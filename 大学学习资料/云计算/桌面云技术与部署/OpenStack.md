# open

## 步骤，安装虚拟机，控制节点
#温馨提示，所有文字都在上面，下面是配图
![image.png](http://img.mingfancloud.cn/temp/202404061626070.png)
![image.png](http://img.mingfancloud.cn/temp/202404061626923.png)
![image.png](http://img.mingfancloud.cn/temp/202404061626717.png)
![image.png](http://img.mingfancloud.cn/temp/202404061626881.png)
![image.png](http://img.mingfancloud.cn/temp/202404061626130.png)
![image.png](http://img.mingfancloud.cn/temp/202404061627992.png)
![image.png](http://img.mingfancloud.cn/temp/202404061627772.png)
![image.png](http://img.mingfancloud.cn/temp/202404061628915.png)
#注意，第一个网卡是主机模式。
#第二个网卡是NAT模式
![image.png](http://img.mingfancloud.cn/temp/202404061628874.png)
![image.png](http://img.mingfancloud.cn/temp/202404061628431.png)
#根据自己网关自行设置
#提示，在主机模式ip设置192.168.10.0
#提示，在NAT模式中IP设置
192.168.20.0
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703219205-35e727c5-159f-4ab8-985e-927146495eb9.png#averageHue=%23e6e6e6&clientId=ue9078dd0-e85f-4&from=paste&height=428&id=u3409ed1e&originHeight=668&originWidth=737&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=219711&status=done&style=none&taskId=u422c85f9-3eb9-4b8e-884a-fa2169b5d50&title=&width=471.68)
#提示，在NAT模式中设置网关为
192.168.20.2
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703332532-4e640f6b-f87c-4bea-abb6-174501e102dd.png#averageHue=%23eaeaea&clientId=ue9078dd0-e85f-4&from=paste&height=467&id=u388be348&originHeight=730&originWidth=618&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=171465&status=done&style=none&taskId=u5bd33641-a5a3-4725-a0f2-63227b791f2&title=&width=395.52)
提示，记得勾选上，启动时连接
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703514875-b0704b22-17ab-4607-a721-e89552d7bc76.png#averageHue=%23efefef&clientId=ue9078dd0-e85f-4&from=paste&height=657&id=u9b0f942c&originHeight=1026&originWidth=927&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=220102&status=done&style=none&taskId=ub9da920b-70f7-46d5-a034-e4dea4519f0&title=&width=593.28)
#提示，进去需要按回车键进行安装
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703603908-067c742d-4f72-4516-9b1d-6a1deeff15a5.png#averageHue=%23010101&clientId=ue9078dd0-e85f-4&from=paste&height=554&id=uc30dbb2a&originHeight=866&originWidth=1597&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=33032&status=done&style=none&taskId=u7cf0dbc8-5899-4864-97f3-08a415e5b78&title=&width=1022.08)
#提示等待出现安装向导页面
#选着自己喜欢的语言
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703663230-adc2aff7-1b50-45c1-8158-96eecfc48d8a.png#averageHue=%23e3e3e1&clientId=ue9078dd0-e85f-4&from=paste&height=411&id=u45717e58&originHeight=642&originWidth=858&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=266224&status=done&style=none&taskId=uaaff251d-bc44-4235-864d-dc720875697&title=&width=549.12)
#提示，选择手动分区
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703725236-0a2fa661-e92d-4eac-b70d-47dbc94d5aa0.png#averageHue=%23e2e2e0&clientId=ue9078dd0-e85f-4&from=paste&height=410&id=u300a65e6&originHeight=641&originWidth=895&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=264152&status=done&style=none&taskId=u413211ca-51e0-41b6-bb6f-eb8725d0151&title=&width=572.8)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703748048-50cb8084-53d8-469f-bab5-2da471f035e4.png#averageHue=%23e3e3e1&clientId=ue9078dd0-e85f-4&from=paste&height=418&id=u92f48d90&originHeight=653&originWidth=842&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=228034&status=done&style=none&taskId=ue577abb6-5e00-44f2-89d3-1d74029dfef&title=&width=538.88)
#提示，点+号添加一个分区
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711703793801-a8d03e2a-176f-45fb-b974-cfd98f6ecfbb.png#averageHue=%23bbbbb9&clientId=ue9078dd0-e85f-4&from=paste&height=394&id=ue7cbcf1a&originHeight=615&originWidth=837&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=219273&status=done&style=none&taskId=ue177602a-e57e-4dfd-9012-41f9b67c70f&title=&width=535.68)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711704006088-6a11ebb4-4ebe-41bf-b006-0c2b904b2fd1.png#averageHue=%23dbdbd8&clientId=ue9078dd0-e85f-4&from=paste&height=156&id=ud2bac1f6&originHeight=244&originWidth=337&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=63399&status=done&style=none&taskId=ufb7ea6e9-6fef-4c63-9cbb-5cda3c65dd4&title=&width=215.68)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711704035305-7681a2fd-f043-46e6-9790-ef3eaf90f039.png#averageHue=%23a5a5a5&clientId=ue9078dd0-e85f-4&from=paste&height=234&id=uc38869f0&originHeight=365&originWidth=484&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=91499&status=done&style=none&taskId=u962373cc-de66-47c3-b1c6-39194bd16a6&title=&width=309.76)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711704058999-fbbc0ef5-04d2-4fd9-93c9-a6e1f11d19f4.png#averageHue=%23dbdbd9&clientId=ue9078dd0-e85f-4&from=paste&height=198&id=u6886c34d&originHeight=310&originWidth=387&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=75681&status=done&style=none&taskId=u186794cd-0437-4a5e-9e2d-4deee4c4a16&title=&width=247.68)
#提示，密码自己设置，切记要记住
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711704299258-a09c0476-3e6a-4781-ac57-3b8e0b20a707.png#averageHue=%23e3e3e0&clientId=ue9078dd0-e85f-4&from=paste&height=203&id=u3cd26ee1&originHeight=317&originWidth=410&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=74686&status=done&style=none&taskId=u53d45bf6-8051-4b3d-a3b8-654b86db955&title=&width=262.4)
#提示，安装后重启，输入root用户，和自己设置的密码，则安装成功。

## 步骤 控制节点配置控制节点的ip
#温馨提示，所有文字都在上面，下面是配图
#控制节点设置一个临时ip
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711705309220-75346503-da3a-49ec-98ee-37cf67d1f63a.png#averageHue=%230e0e0e&clientId=ue9078dd0-e85f-4&from=paste&height=212&id=u1f89f468&originHeight=332&originWidth=862&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=99020&status=done&style=none&taskId=u80647239-1f11-414c-90b9-f07e0c68926&title=&width=551.68)
```java
ip a add 192.168.10.10/24 dev ens33
#提示，远程工具连接后，修改成静态ip
cd /etc/sysconfig/network-scripts/  #进入网卡目录
ls   #查看文件
vi  <文件名>   #打开文件进行配置33网卡
#以下是配置文件图片
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711705632654-987e98a6-efc9-4aac-89b6-0b4d03cff634.png#averageHue=%23fcfcfc&clientId=ue9078dd0-e85f-4&from=paste&height=270&id=u2bbef485&originHeight=422&originWidth=733&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=141141&status=done&style=none&taskId=uba538172-39a2-469d-a89b-ca3f2624d60&title=&width=469.12)
```java
：wq   #保存
vi  <文件名>   #打开文件进行配置34网卡
#以下是配置文件图片
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711705764611-82838dab-152a-4b71-9d8a-bd6ee83ec3ac.png#averageHue=%23fbfbfb&clientId=ue9078dd0-e85f-4&from=paste&height=340&id=ua77a62d5&originHeight=532&originWidth=638&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=171850&status=done&style=none&taskId=u2b68b5cd-9ef7-41a2-8253-2750b003e58&title=&width=408.32)
```java
systemctl restart network   #重启网卡服务
ip a #查看
#以下是图片示例
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711705866217-7ecc69f2-f57e-45aa-857b-18e25e2efd9f.png#averageHue=%23edede9&clientId=ue9078dd0-e85f-4&from=paste&height=312&id=u6292f132&originHeight=488&originWidth=1080&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=461140&status=done&style=none&taskId=ube5f0f3a-660f-4fc4-ad15-8e42466eac8&title=&width=691.2)
```java
ping www.baidu.com   #ping一下外网，如果成功则成功
```
```java
hostnamectl set-hostname <修改的名称> #修改服务名称
exit  #退出，重新登录就可以看到修改完成
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711706023934-cedc6aac-e4e2-47c1-92f2-2f1639955b5a.png#averageHue=%23f7f7f5&clientId=ue9078dd0-e85f-4&from=paste&height=93&id=u7d972053&originHeight=145&originWidth=672&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=48166&status=done&style=none&taskId=u815648bf-7cbd-453d-a5bd-d4fd9d5b001&title=&width=430.08)
```java
cat /etc/hostname  #更改为修改的服务名称
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711706075389-7cd3e570-6a66-4c0f-afba-c8a5bd3fcd0a.png#averageHue=%23fafaf9&clientId=ue9078dd0-e85f-4&from=paste&height=87&id=u226468de&originHeight=136&originWidth=647&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49199&status=done&style=none&taskId=ufb992fee-f620-4390-8d61-628dbe58f5e&title=&width=414.08)
## 步骤 克隆一个计算节点并修改ip
#温馨提示，所有文字都在上面，下面是配图
#把控制节点克隆一个计算节点出来
#提示，克隆出来一个一莫一样的计算节点出来
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777215872-6366eeb5-2597-4a40-9a5f-5f5028db5f55.png#averageHue=%23e4e4e4&clientId=u92a4d8f7-3753-4&from=paste&height=420&id=u62156760&originHeight=525&originWidth=672&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=102045&status=done&style=none&taskId=uaba1493c-cb53-48cd-952d-5504e9b59e6&title=&width=537.6)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777267210-542aad0e-f9fe-4135-9c4d-9a3ce4f90c2d.png#averageHue=%23e7e7e7&clientId=u92a4d8f7-3753-4&from=paste&height=421&id=u50e8441c&originHeight=526&originWidth=673&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=123014&status=done&style=none&taskId=u236805c9-79ec-42ba-b18d-50b899e338f&title=&width=538.4)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777316188-e7cc0b03-040e-49c0-960a-4b7eb3debf0d.png#averageHue=%23e6e6e6&clientId=u92a4d8f7-3753-4&from=paste&height=441&id=ub70b88f1&originHeight=551&originWidth=682&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=104867&status=done&style=none&taskId=ua3787ce3-7c7f-4dce-bccf-734d320c3eb&title=&width=545.6)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777372415-dfaa07ab-c204-459f-9094-30130c694612.png#averageHue=%23f8f8f8&clientId=u92a4d8f7-3753-4&from=paste&height=476&id=uf7a46769&originHeight=595&originWidth=689&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=236880&status=done&style=none&taskId=uc9c1945b-a8ed-453f-ac92-38daa858430&title=&width=551.2)
#提示，克隆出来的是一模一样的所以要更改主机名和ip地址
```java
hostnamectl set-hostname <修改的名称> #修改服务名称
exit  #退出，重新登录就可以看到修改完成
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777471556-7b58d0e8-e2f0-4b39-b0d3-7e94acb64857.png#averageHue=%23fafaf9&clientId=u92a4d8f7-3753-4&from=paste&height=477&id=u8d777eec&originHeight=596&originWidth=877&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=244653&status=done&style=none&taskId=uc71a315d-b9fe-490d-9662-ede74158440&title=&width=701.6)
#提示，去掉uuid，
```java
cd /etc/sysconfig/network-scripts/  #进入网卡目录
ls   #查看文件
vi  <文件名>   #打开文件进行配置33网卡
#以下是配置文件图片
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777589685-ec603107-a65d-4244-b7f5-bd0a597ddc39.png#averageHue=%23fafafa&clientId=u92a4d8f7-3753-4&from=paste&height=349&id=u189263e2&originHeight=436&originWidth=487&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=143521&status=done&style=none&taskId=u8853dfed-93e5-492f-aee8-6d6d31c985c&title=&width=389.6)
```java
vi  <文件名>   #打开文件进行配置34网卡
#以下是配置文件图片
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777673741-112e4dd2-ce43-4c98-9445-d45dce6a7585.png#averageHue=%23fafafa&clientId=u92a4d8f7-3753-4&from=paste&height=397&id=u5b78aa6d&originHeight=496&originWidth=456&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=161053&status=done&style=none&taskId=ue5c0719a-039b-43f2-8551-0b95a3a0b92&title=&width=364.8)
```java
systemctl restart network   #重启网卡服务
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777777609-a8ef9e35-53c5-48db-8190-e55cae9ceb08.png#averageHue=%23fcfcfc&clientId=u92a4d8f7-3753-4&from=paste&height=179&id=u0facc244&originHeight=224&originWidth=759&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=117098&status=done&style=none&taskId=u49c00cb7-5841-48d9-be29-3867905bc96&title=&width=607.2)
#提示，因为修改了ip地址，远程连接需要用改过的登录
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777868870-76f076c4-6dde-4776-9718-dfe313a89341.png#averageHue=%23f8f8f7&clientId=u92a4d8f7-3753-4&from=paste&height=549&id=u61a0f9e6&originHeight=686&originWidth=1014&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=210232&status=done&style=none&taskId=ua9b71ccf-4a41-4901-95a5-4035ef05022&title=&width=811.2)
```java
ip a  #查看网卡的ip
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711777903378-33c543fd-a301-406c-899b-784b316e7832.png#averageHue=%23f8f8f8&clientId=u92a4d8f7-3753-4&from=paste&height=405&id=u79338858&originHeight=506&originWidth=1139&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=386448&status=done&style=none&taskId=u9c8723bf-b7e2-448b-933a-2ea9a1371ca&title=&width=911.2)
## 步骤  控制节点挂载openstack-train.iso镜像到目录
#温馨提示，所有文字都在上面，下面是配图
#打开控制节点虚拟机,用远程工具连接
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711778251797-b53ac20c-9fad-41f9-bddc-6e0848ed6526.png#averageHue=%23faf9f8&clientId=u92a4d8f7-3753-4&from=paste&height=537&id=u3e9ee73b&originHeight=671&originWidth=1003&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=180487&status=done&style=none&taskId=ue8555168-6af0-4cd8-932f-9880a4bcdcd&title=&width=802.4)
#上传openstack-train.iso镜像到控制节点虚拟机
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711778564410-791ecb1d-ba65-4f0b-9269-f8338a70e611.png#averageHue=%23f9f9f8&clientId=u92a4d8f7-3753-4&from=paste&height=718&id=ufb9aa869&originHeight=898&originWidth=1844&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=468551&status=done&style=none&taskId=u4f374bee-42c3-48ed-a954-00812da6d00&title=&width=1475.2)
#提示，查看一下是否上传成功
```java
cd /   #进入根目录下
cd /opt  #进入opt目录下
ls  #查看
#把镜像上传到这个目录里面
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711778503189-eafa1561-0897-4d1b-9d14-be26763a6898.png#averageHue=%23fafafa&clientId=u92a4d8f7-3753-4&from=paste&height=225&id=u42d9643d&originHeight=281&originWidth=1053&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=97603&status=done&style=none&taskId=u9e637e4c-339d-4ec0-96d4-1ae317373bc&title=&width=842.4)
```java
mkdir openstack  #创建名为openstack的目录用来挂载镜像
mount <镜像名字> openstacl/  #用mount命令把镜像挂载到目录
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711778667801-d975ec94-7653-466b-bd4d-9582226caddd.png#averageHue=%23dededd&clientId=u92a4d8f7-3753-4&from=paste&height=134&id=u6297d5da&originHeight=167&originWidth=1043&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=81805&status=done&style=none&taskId=u9312898e-bc08-45fe-b9b1-99946fbd997&title=&width=834.4)
```java
cd  openstack  #查看是否挂载成功
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711778822162-73cae1a8-025a-4a02-977e-3d00f07a1a92.png#averageHue=%23e4e5e2&clientId=u92a4d8f7-3753-4&from=paste&height=79&id=ub104fbc8&originHeight=99&originWidth=580&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68328&status=done&style=none&taskId=uc8379804-eacf-4bbd-86b0-fb215920c61&title=&width=464)
#提示挂载只是临时的所以说要修改配置文件，变成开机自动挂载
```java
cd ..  #退到out目录下
vi /etc/fstab  #修改这个文件配置
#提示添加图片最后一行，本人懒得打，你自己打
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711778949122-1c482392-34a7-4d79-921d-0e54a2042ee2.png#averageHue=%23fafafa&clientId=u92a4d8f7-3753-4&from=paste&height=442&id=u39a83a0a&originHeight=553&originWidth=1520&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=276468&status=done&style=none&taskId=u6087a39b-a686-4a98-9fb2-8052afe4c9b&title=&width=1216)
```java
reboot  #重启
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779031764-14a01ced-04dd-4448-9b9b-68133c008b93.png#averageHue=%23f6f6f6&clientId=u92a4d8f7-3753-4&from=paste&height=308&id=u9942a3da&originHeight=385&originWidth=872&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=153855&status=done&style=none&taskId=uca5aa540-8d5c-471c-b198-9d5c9c462b3&title=&width=697.6)
```java
cd /out  #进入out目录
ls    #查看挂载
cd openstack/  #进入openstack目录
ls  #查看挂载
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779148448-98d209d3-2289-4ae0-af4c-d52a4e37e41c.png#averageHue=%23f9f9f8&clientId=u92a4d8f7-3753-4&from=paste&height=250&id=u53085edf&originHeight=313&originWidth=1022&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=171990&status=done&style=none&taskId=uaac3d39f-c21d-49d2-b7a8-02073c5752b&title=&width=817.6)
## 步骤 设置本地域名解析
#温馨提示，所有文字都在上面，下面是配图
#提示控制节点和计算节点都做
#温馨提示，控制节点配置
```java
vi /etc/hosts  #打开这个文件并进行配置
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779260630-72e559bb-9b10-431e-9131-33f976447573.png#averageHue=%23f9f9f8&clientId=u92a4d8f7-3753-4&from=paste&height=90&id=u8dad3c63&originHeight=112&originWidth=675&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36332&status=done&style=none&taskId=ufb589435-65af-4640-87aa-5669dd121dd&title=&width=540)
#提示，在最后一行配置域名服务
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779314859-327fa3cb-27b3-479f-a78f-3c8bb60910ef.png#averageHue=%23fcfcfc&clientId=u92a4d8f7-3753-4&from=paste&height=444&id=u262d911a&originHeight=555&originWidth=1370&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=173984&status=done&style=none&taskId=u695a9685-b09e-4145-b3b8-d6b317ed46b&title=&width=1096)
#温馨提示，计算节点配置
```java
vi /etc/hosts  #打开这个文件并进行配置
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779260630-72e559bb-9b10-431e-9131-33f976447573.png#averageHue=%23f9f9f8&clientId=u92a4d8f7-3753-4&from=paste&height=90&id=wd97r&originHeight=112&originWidth=675&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36332&status=done&style=none&taskId=ufb589435-65af-4640-87aa-5669dd121dd&title=&width=540)
#提示，在最后一行配置域名服务
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779406111-ba1b7403-0082-471f-9b6b-797ccbbab638.png#averageHue=%23fcfcfc&clientId=u92a4d8f7-3753-4&from=paste&height=444&id=u2f91f906&originHeight=555&originWidth=1370&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=173984&status=done&style=none&taskId=u805637bb-8fce-4d63-82ec-2e50f76eacf&title=&width=1096)
#提示，两台虚拟机互相ping一下改的域名
#温馨提示，是两台都ping哦，如果能ping通就说明成功。
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779516664-e33c6562-deb5-46f1-9223-2a2263701b19.png#averageHue=%23f3f3f3&clientId=u92a4d8f7-3753-4&from=paste&height=330&id=ub5ad8573&originHeight=413&originWidth=1209&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=320187&status=done&style=none&taskId=ue9bdea71-c0e7-45d4-a116-dac7c5dddf7&title=&width=967.2)
## 步骤 在控制节点计算节点关闭防火墙关闭安全协议
#温馨提示，所有文字都在上面，下面是配图
#提示控制节点和计算节点都做
#控制节点
```java
systemctl stop firewalld  #关闭防火墙
systemctl disable firewalld  #关闭开机自启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779952301-d7373747-3620-477c-8a45-fefd956f6f0f.png#averageHue=%23f2f2f1&clientId=u3a3b51c0-8530-4&from=paste&height=98&id=u48bdc04d&originHeight=122&originWidth=1302&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=131441&status=done&style=none&taskId=u136f757f-34d8-4fc2-a46b-d40d9ecea5b&title=&width=1041.6)
```java
systemctl status firewalld  #查看防火墙状态
#温馨提示，出现disabked算是没有开机自启动了
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780022284-270c0c63-ba02-494a-8b08-418cceb4b8e4.png#averageHue=%23dadbcf&clientId=u3a3b51c0-8530-4&from=paste&height=290&id=ub52e8cc9&originHeight=363&originWidth=1670&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=408130&status=done&style=none&taskId=u1c8da49a-bb6a-4820-b868-fd8e3f4fed0&title=&width=1336)
#提示，计算节点也做同样操作
```java
systemctl stop firewalld  #关闭防火墙
systemctl disable firewalld  #关闭开机自启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711779952301-d7373747-3620-477c-8a45-fefd956f6f0f.png#averageHue=%23f2f2f1&clientId=u3a3b51c0-8530-4&from=paste&height=98&id=Vn94i&originHeight=122&originWidth=1302&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=131441&status=done&style=none&taskId=u136f757f-34d8-4fc2-a46b-d40d9ecea5b&title=&width=1041.6)
```java
systemctl status firewalld  #查看防火墙状态
#温馨提示，出现disabked算是没有开机自启动了
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780022284-270c0c63-ba02-494a-8b08-418cceb4b8e4.png#averageHue=%23dadbcf&clientId=u3a3b51c0-8530-4&from=paste&height=290&id=N78JM&originHeight=363&originWidth=1670&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=408130&status=done&style=none&taskId=u1c8da49a-bb6a-4820-b868-fd8e3f4fed0&title=&width=1336)
#控制节点和计算节点同样操作
```java
setenforce 0 #关闭当前安全协议
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780371089-dc9883a6-6e3f-4547-a954-a325d3051ca6.png#averageHue=%23dddbce&clientId=u3a3b51c0-8530-4&from=paste&height=43&id=u19ffcfa6&originHeight=54&originWidth=569&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=33065&status=done&style=none&taskId=u7c539f3d-9946-4e7e-9fa7-250de652433&title=&width=455.2)
```java
vi /etc/selinux/config  #配置开机自启动关闭安全协议
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780421123-932d334f-e5e0-4ece-b444-0f70b69755f2.png#averageHue=%23f2f2f2&clientId=u3a3b51c0-8530-4&from=paste&height=52&id=ubfbdd083&originHeight=65&originWidth=799&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=35851&status=done&style=none&taskId=ubb6e36f5-7ab3-43ba-944a-bad2831eb33&title=&width=639.2)
```java
#把SELINUXTYPE=修改为disabled关闭或者permissive给他禁用
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780536890-f37677d0-d2c9-43b6-9368-3fd3b1eaec08.png#averageHue=%23f7f7f6&clientId=u3a3b51c0-8530-4&from=paste&height=302&id=u3ac95d37&originHeight=378&originWidth=1396&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=283503&status=done&style=none&taskId=u3af47a76-39f9-46bf-bc01-9603f0d0baa&title=&width=1116.8)
```java
reboot  #重启
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780649037-c49305ad-201d-4560-b1cd-7e41695718c0.png#averageHue=%23f7f7f7&clientId=u3a3b51c0-8530-4&from=paste&height=341&id=u60ad6e15&originHeight=426&originWidth=942&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=155308&status=done&style=none&taskId=u41bb6b00-8861-4a65-b944-bca39aa4180&title=&width=753.6)
## 步骤 配置本地yum源
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
 cd /opt #进入opt目录
ls  #查看挂载
cd openstack/  #进入openstack目录
ls  #查看挂载
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711780990071-6c6d128e-25dd-4c37-8e8f-2aa5f0ca316c.png#averageHue=%23edeeea&clientId=u3a3b51c0-8530-4&from=paste&height=200&id=u6b252ce2&originHeight=250&originWidth=948&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=175400&status=done&style=none&taskId=u8fc41c88-54c2-4217-9b3f-6b912c89d3a&title=&width=758.4)
```java
cd /etc/yum.repos.d/  #进入yum源仓库
ls  #查看yum源配置文件
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711781087216-7e201590-7f18-4f4b-914e-a5917f9b4aaf.png#averageHue=%23f2f2f2&clientId=u3a3b51c0-8530-4&from=paste&height=142&id=ud49d9334&originHeight=178&originWidth=1435&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=177081&status=done&style=none&taskId=ua1768387-07f1-4fa8-a1ea-ca6728e75c0&title=&width=1148)
```java
cp CentOS-Base.repo OpenStack.repo  #把文件修改名字
rm C* -rf  #删除带C的文件
#提示，这是保留一个文件，其余的都删了
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711781201430-d6ea00fa-511e-4012-9020-5834a84c9339.png#averageHue=%23e1e1de&clientId=u3a3b51c0-8530-4&from=paste&height=91&id=u31b6c1b7&originHeight=114&originWidth=1119&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=106945&status=done&style=none&taskId=ufeec8477-d930-4c63-9e93-dfca2876b1d&title=&width=895.2)
```java
ls  #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711781368710-91d70cd4-238d-4601-9297-074ad015e2db.png#averageHue=%23dedfdc&clientId=u3a3b51c0-8530-4&from=paste&height=61&id=u34cee053&originHeight=76&originWidth=567&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44317&status=done&style=none&taskId=u3898ca7c-68fa-4480-b194-412efd2fa3b&title=&width=453.6)
```java
vi OpenStack.repo  #配置文件
```
#提示要修改五个仓库，在最下面。
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782005550-ae3dd56d-0350-4949-82b7-cbef6eb671cf.png#averageHue=%23e8e8e8&clientId=u3a3b51c0-8530-4&from=paste&height=670&id=u2f2b984d&originHeight=838&originWidth=709&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=270674&status=done&style=none&taskId=u631144aa-4403-41d0-ac09-e50a7f00514&title=&width=567.2)
```java
yum clean all  #清除yum源缓存
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782063311-c87f747f-0777-4c3a-9d57-122782390b5a.png#averageHue=%23e5e6e3&clientId=u3a3b51c0-8530-4&from=paste&height=90&id=u61241c1c&originHeight=113&originWidth=726&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77349&status=done&style=none&taskId=ufbc83785-fdae-4244-92d3-c7d9a96046c&title=&width=580.8)
```java
yum makecache #重建yum源缓存
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782147902-080b15b8-b6cc-4bab-9900-43deef599996.png#averageHue=%23f8f8f8&clientId=u3a3b51c0-8530-4&from=paste&height=414&id=u4f68e483&originHeight=517&originWidth=1583&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=342904&status=done&style=none&taskId=u15e67bcc-7cc7-4253-9e4f-9c317549942&title=&width=1266.4)
#如果配置没错得到如下
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782231255-5127d068-11f0-4bbd-b61c-519a6dc2a600.png#averageHue=%23fafafa&clientId=u3a3b51c0-8530-4&from=paste&height=590&id=ub8a3c559&originHeight=738&originWidth=1575&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=596941&status=done&style=none&taskId=ubdcc96a3-4a8b-409f-b163-65f88a6aeda&title=&width=1260)
```java
cd /root  #进入root
yum install vsftpd -y  #安装一个应用测试yum源是否正常
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782308367-05ffe53a-2e0f-48c6-b1eb-d38ee79b2ae2.png#averageHue=%23f4f4f4&clientId=u3a3b51c0-8530-4&from=paste&height=194&id=u2caafb6e&originHeight=243&originWidth=1090&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=183769&status=done&style=none&taskId=ude871cde-a8b6-4eea-8e7f-d2e086d06f7&title=&width=872)
提示，安装上了vsftpd，他是一个FTP应用，在控制节点搭建一个FTP（服务器）为计算节点提供yum源（文件）服务。
```java
vi /etc/vsftpd.conf  #修改配置文件
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782457361-eacda5a4-a7aa-46c4-a88d-d1e3325c16ae.png#averageHue=%23f6f6f5&clientId=u3a3b51c0-8530-4&from=paste&height=46&id=ue46e0755&originHeight=58&originWidth=1033&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=42134&status=done&style=none&taskId=u4c82090f-cdcb-47cc-be4b-b1eb5226109&title=&width=826.4)
#提示改ALLow在下面加一个anon_root=/opt
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711783438367-7bdd0140-c100-4bf5-a896-d3ee55ac05ed.png#averageHue=%23f6f6f6&clientId=u3a3b51c0-8530-4&from=paste&height=546&id=uf87bd9fc&originHeight=682&originWidth=1302&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=549216&status=done&style=none&taskId=u7230c696-e807-48be-80eb-5672e551a2a&title=&width=1041.6)
```java
systemctl start vsftpd
systemctl enable vsftpd
#设置开机启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711784632692-49c9f40a-a6ea-4e50-b6a5-6ed04787bcdd.png#averageHue=%23f6f6f6&clientId=u3a3b51c0-8530-4&from=paste&height=129&id=u2510722f&originHeight=161&originWidth=1426&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=145679&status=done&style=none&taskId=u1c0d4c33-6175-4d35-ac96-e5038ca0c24&title=&width=1140.8)
#计算节点
```java
cd /etc/yum.repos.d/  #进入yum源仓库
ls  #查看yum源配置文件
rm C* -rf  #删除带C的文件
scp root@controller:/etc/yum.repos.d/OpenStack.repo OpenStack.repo
#要输入密码
```
#修改文件，改ftp
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711794170416-12c5d442-4f9e-4407-90cd-5c2ae2b2edbf.png#averageHue=%23fbfbfb&clientId=u3a3b51c0-8530-4&from=paste&height=578&id=u243ffd28&originHeight=723&originWidth=1072&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=250988&status=done&style=none&taskId=u507c3cf8-154f-4757-905d-7afbf79993f&title=&width=857.6)
```java
yum clean all  #清除yum源缓存
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782063311-c87f747f-0777-4c3a-9d57-122782390b5a.png#averageHue=%23e5e6e3&clientId=u3a3b51c0-8530-4&from=paste&height=90&id=TGVSK&originHeight=113&originWidth=726&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77349&status=done&style=none&taskId=ufbc83785-fdae-4244-92d3-c7d9a96046c&title=&width=580.8)
```java
yum makecache #重建yum源缓存
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711782147902-080b15b8-b6cc-4bab-9900-43deef599996.png#averageHue=%23f8f8f8&clientId=u3a3b51c0-8530-4&from=paste&height=414&id=uCGr9&originHeight=517&originWidth=1583&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=342904&status=done&style=none&taskId=u15e67bcc-7cc7-4253-9e4f-9c317549942&title=&width=1266.4)
```java
yum install -y net-tools #网络软件包
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711794279578-bce8230a-6bf6-4f7f-b046-72266e8ad6bf.png#averageHue=%23f8f8f8&clientId=u3a3b51c0-8530-4&from=paste&height=249&id=u635b167e&originHeight=311&originWidth=1192&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=149306&status=done&style=none&taskId=ucf002f49-969a-4e6f-ba6b-2560f99e9c9&title=&width=953.6)
#控制节点
```java
yum install -y net-tools #网络软件包
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711794279578-bce8230a-6bf6-4f7f-b046-72266e8ad6bf.png#averageHue=%23f8f8f8&clientId=u3a3b51c0-8530-4&from=paste&height=249&id=lxvV1&originHeight=311&originWidth=1192&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=149306&status=done&style=none&taskId=ucf002f49-969a-4e6f-ba6b-2560f99e9c9&title=&width=953.6)
## 步骤 chronyd同步
#温馨提示，所有文字都在上面，下面是配图
#控制节点修改
```java
yum -y install chrony  #下载chrony时间服务
systemctl status chronyd  #查看chronyd服务状态
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711797712619-009640ab-211c-4224-8fe9-1b9382e7610f.png#averageHue=%23f1f1f1&clientId=u061e5622-56d0-4&from=paste&height=434&id=u2caaacd7&originHeight=542&originWidth=1648&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=500171&status=done&style=none&taskId=u367e6c5e-f404-4f48-9fa5-ae12722ee83&title=&width=1318.4)
```java
vi /etc/chrony.conf  #配置文件
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711797787177-2be9bacc-c7f9-49f9-99b0-5feca77b1724.png#averageHue=%23f1f1f1&clientId=u061e5622-56d0-4&from=paste&height=42&id=u70b8b1a1&originHeight=53&originWidth=741&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=25663&status=done&style=none&taskId=u49bd3509-6a29-4a39-99d1-5045bb44b18&title=&width=592.8)
#打开修改以下
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711797857561-e8ccadd5-5ff1-4fbb-974d-e23aae185c73.png#averageHue=%23f6f6f6&clientId=u061e5622-56d0-4&from=paste&height=93&id=u5c5b7e00&originHeight=116&originWidth=825&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45452&status=done&style=none&taskId=ua8e2518e-3542-4d07-b490-55d65df28a9&title=&width=660)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711797884138-f4be0611-33a6-4b0a-9e01-46f6594323b3.png#averageHue=%23f5f5f4&clientId=u061e5622-56d0-4&from=paste&height=70&id=ud183b637&originHeight=87&originWidth=930&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40585&status=done&style=none&taskId=u97a0566c-57e4-4b22-aaa4-80733a08dda&title=&width=744)
```java
systemctl restart chronyd  #重启chronyd服务
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711797911798-ac726acd-9707-4081-b3b8-4f7c9f9f641b.png#averageHue=%23ebebeb&clientId=u061e5622-56d0-4&from=paste&height=42&id=u22609b02&originHeight=53&originWidth=811&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=37926&status=done&style=none&taskId=u793326f4-b8c7-48fb-a664-ba723ad1273&title=&width=648.8)
#在计算节点
```java
yum -y install chrony  #下载chrony时间服务
vi /etc/chrony.conf  #配置文件
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711797981789-a2a07352-5051-473e-8837-ddb8513f0da1.png#averageHue=%23f2f2f2&clientId=u061e5622-56d0-4&from=paste&height=87&id=u49c58bd5&originHeight=109&originWidth=1107&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=79694&status=done&style=none&taskId=uf2d44542-1103-4fe5-a0b1-f412f7be061&title=&width=885.6)
```java
systemctl restart chronyd  #重启chronyd服务
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798020960-7ad69432-0212-4ac0-8c28-84786861de78.png#averageHue=%23e0e1de&clientId=u061e5622-56d0-4&from=paste&height=42&id=u24a184a4&originHeight=53&originWidth=674&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=39932&status=done&style=none&taskId=u1e597413-eae1-4439-9f66-956385fa414&title=&width=539.2)
```java
chronyc sources
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798040001-75ab0b2e-a4a2-4f4f-bbc2-01efa91bff27.png#averageHue=%23eeeeee&clientId=u061e5622-56d0-4&from=paste&height=130&id=u4ab6560e&originHeight=162&originWidth=1232&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=103212&status=done&style=none&taskId=uab4f68b3-929d-4052-82d1-ab324931f09&title=&width=985.6)
## 步骤 安装openstack的基础软件框架
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum list *openstack*   #搜索
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798171834-4933da43-9434-44c4-b3bc-7b97fdb5627f.png#averageHue=%23e6e6e4&clientId=u061e5622-56d0-4&from=paste&height=40&id=u65295b3b&originHeight=50&originWidth=730&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=34087&status=done&style=none&taskId=u3e878379-cebf-4f5c-9cc2-56c9e329d26&title=&width=584)
```java
yum install centos-release-openstack-train -y  #安装软件框架
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798254590-6c693983-5dd0-4ed5-accc-757dcaf2dd78.png#averageHue=%23ebebeb&clientId=u061e5622-56d0-4&from=paste&height=46&id=udd1c92f9&originHeight=57&originWidth=1100&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=55425&status=done&style=none&taskId=u33472802-037a-4fe6-aa39-74275bff8ed&title=&width=880)
#提示，因为咱使用的是本地yum源所以说要删除多的
```java
cd /etc/yum.repos.d/  #进入yum源仓库
ls    #查看
rm C* -rf  #删除
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798346781-c056204f-bab8-4c4f-ac7b-9df86ddab051.png#averageHue=%23d4d4d4&clientId=u061e5622-56d0-4&from=paste&height=167&id=uf4c91712&originHeight=209&originWidth=1445&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=201240&status=done&style=none&taskId=uc0c24c46-a642-4484-8370-fba0e91ea5c&title=&width=1156)
```java
yum upgrade -y  #把所有应用，不包括内核进行更新
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798467548-d904912c-6ae9-49a3-afd3-ea012b7a67b8.png#averageHue=%23ededed&clientId=u061e5622-56d0-4&from=paste&height=44&id=u397aa1a9&originHeight=55&originWidth=792&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=35669&status=done&style=none&taskId=u25c711f4-5170-46c6-ae06-d35d0fc835a&title=&width=633.6)
```java
ls  #查看
rm C* -rf #删除
ls  #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798569322-9744ce55-d9e7-4694-8dae-a73f4ebbb09b.png#averageHue=%23f6f6f6&clientId=u061e5622-56d0-4&from=paste&height=190&id=u4336d2b1&originHeight=238&originWidth=1312&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=199362&status=done&style=none&taskId=u5ad59736-489c-47e7-9904-7066b11ef7a&title=&width=1049.6)
```java
yum install python-openstackclient -y  #openstock的控制程序和python的接口
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798650568-ef1b7a83-e861-4d04-9ad9-ed3434a60621.png#averageHue=%23dcdcd9&clientId=u061e5622-56d0-4&from=paste&height=54&id=ufb34eeef&originHeight=67&originWidth=1131&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52533&status=done&style=none&taskId=ua1beaf17-c45a-45bb-a12d-e11ee65cdd3&title=&width=904.8)
```java
yum install openstack-selinux -y  #openstack的selinux安全软件包
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798719015-de3d65d7-0518-4f7d-8ea5-a0d1ba83358e.png#averageHue=%23dadbd8&clientId=u061e5622-56d0-4&from=paste&height=33&id=u95a5c433&originHeight=41&originWidth=1051&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38613&status=done&style=none&taskId=ufce5d590-b842-456c-8f42-bafbbc4076e&title=&width=840.8)
#计算节点
```java
yum list *openstack*   #搜索
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798171834-4933da43-9434-44c4-b3bc-7b97fdb5627f.png#averageHue=%23e6e6e4&clientId=u061e5622-56d0-4&from=paste&height=40&id=JjcYQ&originHeight=50&originWidth=730&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=34087&status=done&style=none&taskId=u3e878379-cebf-4f5c-9cc2-56c9e329d26&title=&width=584)
```java
yum install centos-release-openstack-train -y  #安装软件框架
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798254590-6c693983-5dd0-4ed5-accc-757dcaf2dd78.png#averageHue=%23ebebeb&clientId=u061e5622-56d0-4&from=paste&height=46&id=kG2UT&originHeight=57&originWidth=1100&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=55425&status=done&style=none&taskId=u33472802-037a-4fe6-aa39-74275bff8ed&title=&width=880)
#提示，因为咱使用的是本地yum源所以说要删除多的
```java
cd /etc/yum.repos.d/  #进入yum源仓库
ls    #查看
rm C* -rf  #删除
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798346781-c056204f-bab8-4c4f-ac7b-9df86ddab051.png#averageHue=%23d4d4d4&clientId=u061e5622-56d0-4&from=paste&height=167&id=ZVKZW&originHeight=209&originWidth=1445&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=201240&status=done&style=none&taskId=uc0c24c46-a642-4484-8370-fba0e91ea5c&title=&width=1156)
```java
yum upgrade -y  #把所有应用，不包括内核进行更新
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798467548-d904912c-6ae9-49a3-afd3-ea012b7a67b8.png#averageHue=%23ededed&clientId=u061e5622-56d0-4&from=paste&height=44&id=zlI31&originHeight=55&originWidth=792&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=35669&status=done&style=none&taskId=u25c711f4-5170-46c6-ae06-d35d0fc835a&title=&width=633.6)
```java
ls  #查看
rm C* -rf #删除
ls  #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798569322-9744ce55-d9e7-4694-8dae-a73f4ebbb09b.png#averageHue=%23f6f6f6&clientId=u061e5622-56d0-4&from=paste&height=190&id=VebjD&originHeight=238&originWidth=1312&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=199362&status=done&style=none&taskId=u5ad59736-489c-47e7-9904-7066b11ef7a&title=&width=1049.6)
```java
yum install python-openstackclient -y  #openstock的控制程序和python的接口
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798650568-ef1b7a83-e861-4d04-9ad9-ed3434a60621.png#averageHue=%23dcdcd9&clientId=u061e5622-56d0-4&from=paste&height=54&id=i9hVc&originHeight=67&originWidth=1131&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52533&status=done&style=none&taskId=ua1beaf17-c45a-45bb-a12d-e11ee65cdd3&title=&width=904.8)
```java
yum install openstack-selinux -y  #openstack的selinux安全软件包
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711798719015-de3d65d7-0518-4f7d-8ea5-a0d1ba83358e.png#averageHue=%23dadbd8&clientId=u061e5622-56d0-4&from=paste&height=33&id=Vn0Mz&originHeight=41&originWidth=1051&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38613&status=done&style=none&taskId=ufce5d590-b842-456c-8f42-bafbbc4076e&title=&width=840.8)
## 步骤 安装mariadb数据库
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum list *mariadb*   #搜索
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849039274-a4356fe3-dc0f-43f0-a0c0-3ab6a9527754.png#averageHue=%23f2f2f2&clientId=uf806a00a-54d6-4&from=paste&height=169&id=u53d342e6&originHeight=211&originWidth=817&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=138351&status=done&style=none&taskId=ua7addc4b-447f-4e13-9a1b-09ffbb3ab9e&title=&width=653.6)
```java
yum list python*mysql*  #搜索python和mysql相关的
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849104145-6c8f063c-cd93-48f8-8105-f01ded55856f.png#averageHue=%23ededed&clientId=uf806a00a-54d6-4&from=paste&height=106&id=u811e984b&originHeight=132&originWidth=764&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=82263&status=done&style=none&taskId=u96f9077c-7d0f-4cc9-9930-a6f736fa6ad&title=&width=611.2)
```java
yum install mariadb-server python2-PyMySQL -y  #安装
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849184770-96d3d5cd-b6a8-4f3b-91c2-d0e11bdd110d.png#averageHue=%23efefef&clientId=uf806a00a-54d6-4&from=paste&height=113&id=u596b43ba&originHeight=141&originWidth=1235&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=105400&status=done&style=none&taskId=u5e3c8079-8834-48fd-bff1-5bd890d3763&title=&width=988)
```java
cd /etc/my.cnf.d/  #进入数据库配置文件
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849291890-8bb4f89f-8b82-41d6-8edb-3449648d348b.png#averageHue=%23f2f2f2&clientId=uf806a00a-54d6-4&from=paste&height=94&id=u5f126e88&originHeight=117&originWidth=1283&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=90849&status=done&style=none&taskId=u9461d93b-cdbf-46bb-9c8c-ea43a72966a&title=&width=1026.4)
```java
vi openstack.cnf  #新建一个文件并对数据库的服务端进行配置
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849391052-1b76169a-bb89-4450-9cdb-8419462f8ebd.png#averageHue=%23f6f6f5&clientId=uf806a00a-54d6-4&from=paste&height=50&id=u7b47a99b&originHeight=63&originWidth=776&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29627&status=done&style=none&taskId=u7527bf67-5d2e-474d-966d-84f09df3218&title=&width=620.8)
#提示，自己手敲上去 openstack.cnf里面
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849486689-75f43ad2-bb37-4af9-82a6-119335670aea.png#averageHue=%23f8f8f8&clientId=uf806a00a-54d6-4&from=paste&height=297&id=ubc7e6503&originHeight=371&originWidth=816&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=155103&status=done&style=none&taskId=u68d2e00c-729b-4f6e-b391-96be0c67a64&title=&width=652.8)
```java
systemctl start mariadb   #重启服务
systemctl enable mariadb  #设置开机自启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849545933-33870f07-1b8e-48aa-9aed-ffdd0a7f2171.png#averageHue=%23f0f0ef&clientId=uf806a00a-54d6-4&from=paste&height=55&id=u7380eeb4&originHeight=69&originWidth=1189&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=70433&status=done&style=none&taskId=uaa499955-8759-486b-a718-4d5323b4cdf&title=&width=951.2)
```java
mysql_secure_installation  #初始化mysql
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849622862-d4e5e3fd-fc0c-45dd-a0e1-bf3561de04a1.png#averageHue=%23f3f3f3&clientId=uf806a00a-54d6-4&from=paste&height=57&id=uf86d8ebb&originHeight=71&originWidth=931&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45806&status=done&style=none&taskId=u44ac3adf-756e-438f-a355-6ab073de887&title=&width=744.8)
```java
mysql -uroot -p<密码刚刚自己设置的>   #登录数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849730648-0bce8af8-81ad-4147-916c-a80176462574.png#averageHue=%23e3e3e0&clientId=uf806a00a-54d6-4&from=paste&height=66&id=ucdd4a287&originHeight=83&originWidth=875&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=71090&status=done&style=none&taskId=u6fd326c4-9c79-4ea3-8135-7350253b57c&title=&width=700)
#温馨提示：数据库里面命令必须加后缀“;”还得是英文的。
```java
show databases;  #查看数据库表
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849751108-29e34670-1fba-41e4-b1c3-e377b18a4d63.png#averageHue=%23f8f8f8&clientId=uf806a00a-54d6-4&from=paste&height=343&id=uce943c7f&originHeight=429&originWidth=935&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=153904&status=done&style=none&taskId=u09ea6062-0564-441f-914e-fbc42086685&title=&width=748)
## 步骤 安装rabbitmq消息队列
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum install rabbitmq-server -y  #安装
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849898101-ceffca4a-0259-4c25-a7a7-9155e90ee5dc.png#averageHue=%23d9d9d7&clientId=uf806a00a-54d6-4&from=paste&height=37&id=udee78990&originHeight=46&originWidth=761&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=27648&status=done&style=none&taskId=ub1e4837b-56be-416f-99a9-91d4f59812e&title=&width=608.8)
```java
cat /etc/passwd  #安装完后会生成一个rqbbitmq的系统用户
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711849977294-0aaf84f0-a06f-45c3-a99b-7e6acfc4f665.png#averageHue=%23ededed&clientId=uf806a00a-54d6-4&from=paste&height=34&id=u7249ef73&originHeight=43&originWidth=678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=23114&status=done&style=none&taskId=u566c0d80-fadf-41c1-9ff9-7b949d8285c&title=&width=542.4)
```java
systemctl start rabbitmq-server  #启动rabbitmq服务
systemctl enable rabbitmq-server  #设置开机自启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850070375-96f3e878-bb2d-4bda-b431-082f41cea1c4.png#averageHue=%23e9e9e9&clientId=uf806a00a-54d6-4&from=paste&height=60&id=udb623990&originHeight=75&originWidth=944&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=70615&status=done&style=none&taskId=u42459ddd-808c-4d94-9716-c1db7945661&title=&width=755.2)
```java
rabbitmqctl --help #查看可以做什么
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850192016-e9cac8c1-87da-44b2-9659-8183cab433ce.png#averageHue=%23e4e5d8&clientId=uf806a00a-54d6-4&from=paste&height=44&id=ua03446ba&originHeight=55&originWidth=653&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40377&status=done&style=none&taskId=ud684b604-adad-4250-a48c-ba606ed8340&title=&width=522.4)
```java
rabbitmqctl add_user rabbitmq <设置密码>  #添加系统用户并设置密码
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850276646-29a66ff4-3660-47ad-ae96-538fe611e4df.png#averageHue=%23eeeeee&clientId=uf806a00a-54d6-4&from=paste&height=40&id=u4bc0f51b&originHeight=50&originWidth=945&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=30855&status=done&style=none&taskId=u5880f6c0-9f9a-48d2-ba2b-9250a9237eb&title=&width=756)
```java
rabbitmqctl set_permissions rabbitmq ".*" ".*" ".*"  #配置可读可执行可写权限
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850424933-fd867f9a-a766-4759-af5a-917e8e1f7e22.png#averageHue=%23f0f0ef&clientId=uf806a00a-54d6-4&from=paste&height=66&id=uc152db91&originHeight=82&originWidth=991&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=65154&status=done&style=none&taskId=u157907af-b51e-4278-af5f-a0d8874b0d9&title=&width=792.8)
```java
rabbitmqctl list_permissions #查看有什么权限
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850527504-dd07e47c-c719-4aca-a826-7e8d475d6d2a.png#averageHue=%23f5f5f5&clientId=uf806a00a-54d6-4&from=paste&height=106&id=u131c1e58&originHeight=132&originWidth=925&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=72264&status=done&style=none&taskId=uf8333409-ab01-4f53-8850-076ade4f10e&title=&width=740)
## 步骤 安装memcached内存缓存服务
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum list *memcached*  #查找
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850600312-38dec57b-aed2-490c-9dde-7ceb3c7514f6.png#averageHue=%23dadad7&clientId=uf806a00a-54d6-4&from=paste&height=62&id=u081edaa9&originHeight=77&originWidth=749&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=53500&status=done&style=none&taskId=uc3cc230e-a217-42e9-a790-c95f4afe9c6&title=&width=599.2)
```java
yum install memcached python-memcached -y #安装管理工具
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850673029-b007d27d-196f-4e4a-8c4d-ad87093c7544.png#averageHue=%23e4e4e1&clientId=uf806a00a-54d6-4&from=paste&height=45&id=u35bd4074&originHeight=56&originWidth=1040&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52181&status=done&style=none&taskId=u840e1dc3-7ead-491e-a18d-108b84f9b73&title=&width=832)
```java
systemctl start memcached  #启动服务
systemctl enable memcached #设置开机自启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850733752-10ef6b4d-173c-4c61-9848-de2a04b7e228.png#averageHue=%23ececec&clientId=uf806a00a-54d6-4&from=paste&height=78&id=uc636ad6c&originHeight=98&originWidth=919&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=84096&status=done&style=none&taskId=uc0269467-22dc-499a-a793-617fb15d6c8&title=&width=735.2)
```java
vi /etc/sysconfig/memcached  #配置使他对controller节点进行监听
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850805937-97f91e00-9687-4e19-a773-abea11d070e1.png#averageHue=%23f0f0f0&clientId=uf806a00a-54d6-4&from=paste&height=40&id=u6bd5a19e&originHeight=50&originWidth=912&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36330&status=done&style=none&taskId=u7e8abb46-2f1e-45b0-b6a3-88715e4e932&title=&width=729.6)
#配置如下图片自己添加
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850917302-81ab703d-277e-42e1-9f4f-4013a5ef015b.png#averageHue=%23fafafa&clientId=uf806a00a-54d6-4&from=paste&height=258&id=uef2f93ba&originHeight=323&originWidth=893&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=109794&status=done&style=none&taskId=u2bde9ee7-8bdc-4e63-a8e2-f68759be33d&title=&width=714.4)
```java
systemctl restart memcached #重启服务
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850961599-79451911-6109-4f36-8881-7daafa3ece35.png#averageHue=%23d4d4d2&clientId=uf806a00a-54d6-4&from=paste&height=35&id=uc258eaf9&originHeight=44&originWidth=821&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=35982&status=done&style=none&taskId=ude921edc-defa-4ade-9eff-909620099ec&title=&width=656.8)
```java
systemctl status memcached  #看一下服务状态
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711850997058-811d0d74-25f8-4d87-9b27-f9653a13a178.png#averageHue=%23f2f2f1&clientId=uf806a00a-54d6-4&from=paste&height=191&id=ubb7de5ba&originHeight=239&originWidth=1538&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=262655&status=done&style=none&taskId=ua5e1f0dd-531b-49b0-bdb4-58361c5b083&title=&width=1230.4)
```java
netstat -nutpl  #查看端口服务
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851058742-ee5dcb5f-0db1-4490-b1e1-81cb6cac2f45.png#averageHue=%23dfdfdc&clientId=uf806a00a-54d6-4&from=paste&height=56&id=u473b4b93&originHeight=70&originWidth=654&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49235&status=done&style=none&taskId=ud20ca502-761c-4998-b5d3-95116b7e489&title=&width=523.2)
## 步骤 安装etcd键一值对存储系统
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum -y install etcd  #安装etcd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851148930-ae4b8c68-06eb-4e9d-9381-1066e121bf55.png#averageHue=%23e8e8e5&clientId=uf806a00a-54d6-4&from=paste&height=83&id=u5362410e&originHeight=104&originWidth=689&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=71695&status=done&style=none&taskId=u5269a99b-7a3f-4311-b65d-0f0f403ed44&title=&width=551.2)
```java
cd /etc/etcd  #进入
vi etcd.conf  #配置文件
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851209967-f24d6252-9272-4a04-8f4a-81af7a035e6b.png#averageHue=%23dedfdb&clientId=uf806a00a-54d6-4&from=paste&height=79&id=u2244bcc8&originHeight=99&originWidth=718&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=48110&status=done&style=none&taskId=ua4e76237-4802-4b83-97eb-d903a92f94a&title=&width=574.4)
#自己看修改了那些配置
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851382464-b75f7f1f-700a-4128-98fb-9726e77bfa95.png#averageHue=%23fafafa&clientId=uf806a00a-54d6-4&from=paste&height=692&id=ue0d1a7cd&originHeight=865&originWidth=1274&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=531547&status=done&style=none&taskId=uec918fd3-a566-4397-81b4-778619415f9&title=&width=1019.2)
```java
systemctl start etcd  #启动etcd
systemctl enable etcd #开机自启动
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851426223-a4d05a90-b76d-4254-b706-cdf2f199050f.png#averageHue=%23c8c9c6&clientId=uf806a00a-54d6-4&from=paste&height=63&id=u97d47850&originHeight=79&originWidth=712&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=65075&status=done&style=none&taskId=ucdde7821-f043-4265-910e-d5d69c78602&title=&width=569.6)
```java
systemctl status etcd  #查看启用状态
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851474869-4736438d-9415-43b3-9324-a895f4a06cbc.png#averageHue=%23f0f0ef&clientId=uf806a00a-54d6-4&from=paste&height=303&id=ua4f42d07&originHeight=379&originWidth=1607&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=422200&status=done&style=none&taskId=u5400bd79-ce99-4458-9a9c-525cf51d336&title=&width=1285.6)
```java
netstat -nutol  #查看端口
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851517420-33594c12-065d-4b08-9d1b-4c3c1ba66527.png#averageHue=%23f5f5f5&clientId=uf806a00a-54d6-4&from=paste&height=463&id=u6e668e08&originHeight=579&originWidth=1452&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=521155&status=done&style=none&taskId=u5c994168-7d1d-4854-a915-6568375ec6b&title=&width=1161.6)
## 步骤 安装keystone组件
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum install openstack-keystone -y #安装相关应用
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851633748-c2f9325b-d982-47f0-972a-c3dfaf781dc7.png#averageHue=%23eeeeec&clientId=uf806a00a-54d6-4&from=paste&height=101&id=u259ff0df&originHeight=126&originWidth=927&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=84464&status=done&style=none&taskId=ud2a67a36-6658-456d-8fc2-0af8e314aea&title=&width=741.6)
```java
yum install httpd -y #安装httpd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851685959-aecc5479-7362-4cfd-9527-2bcd3ee78312.png#averageHue=%23dcdcd8&clientId=uf806a00a-54d6-4&from=paste&height=52&id=u493b6c7f&originHeight=65&originWidth=689&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=43587&status=done&style=none&taskId=u003b01c8-39f5-4fe6-8b0e-e87de8e18b2&title=&width=551.2)
```java
yum install mod_wsgi -y  #安装他为httpd添加协议接口
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851750634-4c13aac8-a2ed-4ead-b635-d47ccad1db90.png#averageHue=%23d3d5d1&clientId=uf806a00a-54d6-4&from=paste&height=52&id=u1e39b01d&originHeight=65&originWidth=700&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46114&status=done&style=none&taskId=u3a0edcdc-5167-4694-b7e9-d79e30f3140&title=&width=560)
```java
mysql -uroot -p<自己设置的密码> #进入mysql数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851799982-418d4fd6-2e52-4593-b1ad-2d156f252710.png#averageHue=%23eaeaea&clientId=uf806a00a-54d6-4&from=paste&height=145&id=u41c498e5&originHeight=181&originWidth=831&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=118294&status=done&style=none&taskId=u86945f0b-d114-41a4-b351-5d45bc0ff9b&title=&width=664.8)
```java
create database keystone;    #创建一个名为keystone的表
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851851442-9977cf4b-7124-4bc6-be0d-2c3b3ebf3c00.png#averageHue=%23f4f4f4&clientId=uf806a00a-54d6-4&from=paste&height=65&id=uc9369d52&originHeight=81&originWidth=776&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=39468&status=done&style=none&taskId=ueb241e7f-5491-4d68-87fe-413a2d5d2f1&title=&width=620.8)
```java
grant all privileges on keystone.* to 'keystone'@'localhost' identified by '密码'   #设置本地可以使用
grant all privileges on keystone.* to 'keystone'@'%' identified by '密码'   #设置外部可以使用
quit #退出数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711851952236-2555a5c4-c61f-4c0d-8dd1-6b2c83f24cbb.png#averageHue=%23f5f5f5&clientId=uf806a00a-54d6-4&from=paste&height=135&id=uee8407fc&originHeight=169&originWidth=1537&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=145440&status=done&style=none&taskId=u35dea7f4-ef9c-45d0-9f39-b7972cbf9ce&title=&width=1229.6)
```java
mysql -ukeystone -p<密码>   #测试用keystone登录
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711852520103-f67d3e04-ac7c-4b4a-8c80-7f851652283b.png#averageHue=%23f3f3f3&clientId=uf806a00a-54d6-4&from=paste&height=244&id=ub905fb7d&originHeight=305&originWidth=1172&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=168411&status=done&style=none&taskId=uae9ceb9c-fec9-4cae-8097-307d9b1292e&title=&width=937.6)
```java
show databases;  #查看数据表
quit #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711852920483-5a305e54-d341-4d95-a687-ce363e1e5e4c.png#averageHue=%23f5f5f5&clientId=uf806a00a-54d6-4&from=paste&height=87&id=uc178b1b4&originHeight=109&originWidth=571&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=32947&status=done&style=none&taskId=ubf7d3459-b334-473e-92b4-9340581f6ea&title=&width=456.8)
```java
mysql -ukeystone -p<密码> -h192.168.10.10  #远程登录
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853041445-c5bd0cd5-349c-4fd8-b979-a8dc139b4afb.png#averageHue=%23f0f0f0&clientId=uf806a00a-54d6-4&from=paste&height=180&id=u94a62205&originHeight=225&originWidth=1222&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=163312&status=done&style=none&taskId=u706d058a-365c-4ad8-9c68-59a8dc99c28&title=&width=977.6)
```java
show databases;  #查看数据表
quit #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853094745-04441a68-c4ce-477c-8edb-ac04a7c528a4.png#averageHue=%23f8f8f8&clientId=uf806a00a-54d6-4&from=paste&height=206&id=u0639ad92&originHeight=258&originWidth=668&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=84120&status=done&style=none&taskId=u0264417f-057c-47df-9c9c-8862f977b96&title=&width=534.4)
```java
kystone-manage --help  #帮助文档
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853135889-2400e901-9ed8-4273-be9d-fd4287c8af81.png#averageHue=%23ecedea&clientId=uf806a00a-54d6-4&from=paste&height=55&id=u9ebc735c&originHeight=69&originWidth=706&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40172&status=done&style=none&taskId=ueae531f4-3cf8-44fb-933e-3715e3b0215&title=&width=564.8)
```java
keystone-manage fernet_setup --keystone-user keystone --keystone-group keystone
keystone-manage credential_setup --keystone-user keystone --keystone-group keystone
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853267200-2fe9e285-25d2-49b4-9721-a2f6a2c9ab46.png#averageHue=%23dcddda&clientId=uf806a00a-54d6-4&from=paste&height=74&id=u7b21bf93&originHeight=93&originWidth=1502&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=153843&status=done&style=none&taskId=u59971e09-3a71-4a56-ab60-c1b84f040e0&title=&width=1201.6)
```java
cd /etc/keystone/  #进入
ll   #查看权限
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853391350-a3697060-eb99-48ea-bc74-0a9fdd7963f4.png#averageHue=%23f4f4f4&clientId=uf806a00a-54d6-4&from=paste&height=222&id=uad6437f9&originHeight=278&originWidth=1253&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=237383&status=done&style=none&taskId=u36faefbb-2589-4595-b162-6b306d811da&title=&width=1002.4)
```java
cd fernet-keys/   #进入
ll    #查看权限
cd /root
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853436569-d761f071-2ca3-46e1-90a4-f49e8cf623f8.png#averageHue=%23f0f0f0&clientId=uf806a00a-54d6-4&from=paste&height=128&id=ude97b631&originHeight=160&originWidth=745&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=100163&status=done&style=none&taskId=u6c781c22-f48f-4774-9b24-8db901db6ac&title=&width=596)
```java
vi /etc/keystone/keystone.conf  #配置
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853553738-90c33c3b-ef93-4426-949f-ca28ba3576bd.png#averageHue=%23f9f9f9&clientId=uf806a00a-54d6-4&from=paste&height=53&id=ud9075d1c&originHeight=66&originWidth=884&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36100&status=done&style=none&taskId=u30755bea-d3e3-48fa-a4ff-6058d877581&title=&width=707.2)
```java
/[database  #搜索
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853631672-f8fc4b0e-76d4-4526-9feb-9fba75b2403c.png#averageHue=%23f2f2f2&clientId=uf806a00a-54d6-4&from=paste&height=85&id=u43f216e6&originHeight=106&originWidth=372&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=22624&status=done&style=none&taskId=u01719741-2c13-45ca-8a9f-59c9700a84c&title=&width=297.6)
配置connection那一行
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853718104-8ac06963-3e58-4eb6-9e71-6fd1ae83159e.png#averageHue=%23e8e9d9&clientId=uf806a00a-54d6-4&from=paste&height=454&id=u41a91dbe&originHeight=568&originWidth=1269&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=283612&status=done&style=none&taskId=u4f614c4e-0235-4dae-99e8-9418f394a5a&title=&width=1015.2)
```java
/provider  #搜索这个
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853792005-3f531c13-9545-473f-9fa8-f52a9f6d0932.png#averageHue=%23e2e3d0&clientId=uf806a00a-54d6-4&from=paste&height=88&id=ucf671693&originHeight=110&originWidth=364&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38705&status=done&style=none&taskId=u4425a9ca-b16c-4bc2-92c4-630bf0cabf0&title=&width=291.2)
再配置provider
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711853901541-563500ce-a7f0-48d1-8d1c-ca8381990af5.png#averageHue=%23f6f6f6&clientId=uf806a00a-54d6-4&from=paste&height=66&id=u478e4a84&originHeight=82&originWidth=444&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=24399&status=done&style=none&taskId=u964073fb-07e7-40a8-a2f2-53c249345f5&title=&width=355.2)
```java
wq  #保存退出
```
```java
su keystone -s /bin/sh -c "keystone-manage db_sync"  #同步到数据库  
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854010284-85ad9d96-e517-4c99-a7d5-2a428844ba0a.png#averageHue=%23f4f4f3&clientId=uf806a00a-54d6-4&from=paste&height=43&id=u3d650887&originHeight=54&originWidth=1070&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46234&status=done&style=none&taskId=ude5e0b34-eaff-4c68-9fed-b02129f2fb1&title=&width=856)
```java
mysql -ukeystone -p<密码>   #进入数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854090688-72e9cb26-f3c4-4737-86cb-9edb0e767e42.png#averageHue=%23ededed&clientId=uf806a00a-54d6-4&from=paste&height=178&id=u5dd1fd30&originHeight=222&originWidth=1015&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=154783&status=done&style=none&taskId=uf29456bb-2230-407a-8565-3522a6e81d3&title=&width=812)
```java
show databases;   #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854168718-8f9653a8-95a3-4cdc-bce6-68489cb8a81e.png#averageHue=%23f7f7f7&clientId=uf806a00a-54d6-4&from=paste&height=203&id=u412ba03a&originHeight=254&originWidth=703&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=73308&status=done&style=none&taskId=uc713512a-1e58-49a0-b0ae-8595c4b5c36&title=&width=562.4)
```java
use keystone   #进入
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854191231-4d683e7e-591f-4e7b-bc10-6545317f1872.png#averageHue=%23f3f3f3&clientId=uf806a00a-54d6-4&from=paste&height=97&id=u78eb993c&originHeight=121&originWidth=1090&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=74385&status=done&style=none&taskId=u1728cf2c-0aaa-4aa3-8be0-17203f62f12&title=&width=872)
```java
show tables;  #查看表结构
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854263683-fb0895ba-a593-4433-9d12-e58abdf63358.png#averageHue=%23f9f9f9&clientId=uf806a00a-54d6-4&from=paste&height=92&id=u472e02bf&originHeight=115&originWidth=803&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=27702&status=done&style=none&taskId=ud08e49e5-aa8e-4c60-903a-38cb24476a3&title=&width=642.4)
```java
quit  #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854299010-be8ad8a7-1ded-4753-9bdd-4533addf2bc3.png#averageHue=%23f9f9f9&clientId=uf806a00a-54d6-4&from=paste&height=65&id=u4b1cd502&originHeight=81&originWidth=519&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=23606&status=done&style=none&taskId=u3b9eff89-94c3-45bb-a176-91e19d64992&title=&width=415.2)
```java
keystone-manage --help  #帮助文档
```
```java
keystone-manage  bootstrap --bootstrap-password 1 --bootstrap-admin-url http://controller:5000/v3 --bootstrap-public-url http://controller:5000/v3 --bootstrap-internal-url http://controller:5000/v3 --bootstrap-region-id RegionOne

```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854399442-b3a4529a-bbf9-4499-8417-2fa2267b67f2.png#averageHue=%23fafafa&clientId=uf806a00a-54d6-4&from=paste&height=63&id=u5930a306&originHeight=79&originWidth=721&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=35847&status=done&style=none&taskId=u1ff73150-0be9-4987-b798-8dd83ac1934&title=&width=576.8)
然后输入这个
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854374784-a253fc05-4d4e-4c71-af36-ce47fa401a43.png#averageHue=%23ebebe9&clientId=uf806a00a-54d6-4&from=paste&height=98&id=u47376c4c&originHeight=122&originWidth=1671&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=182826&status=done&style=none&taskId=u5b46d00b-0b35-4878-b1ca-19894a77827&title=&width=1336.8)
```java
ln -s /usr/share/keystone/wsgi-keystone.conf /etc/httpd/conf.d/
ll /etc/httpd/conf.d/
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854490272-2109ba0d-f5ef-4c2a-8014-5c362fe9d8e0.png#averageHue=%23f3f3f3&clientId=uf806a00a-54d6-4&from=paste&height=61&id=ufad461b4&originHeight=76&originWidth=1370&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=80536&status=done&style=none&taskId=ue2f5dc4e-ea1a-4a61-9e9f-503b7fdbb98&title=&width=1096)
```java
vi /etc/httpd/conf/httpd.conf  #编辑
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854652802-4eb0fa1d-facc-4812-867a-ee70ac719947.png#averageHue=%23f8f8f8&clientId=uf806a00a-54d6-4&from=paste&height=68&id=uff8786b2&originHeight=85&originWidth=957&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=50449&status=done&style=none&taskId=u5a93b886-ae6c-4a60-9a28-18f3a14b336&title=&width=765.6)
```java
/ServerName  #搜索
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854730989-7932a7ed-34f6-4643-b48d-f4a3d076b912.png#averageHue=%23efefef&clientId=uf806a00a-54d6-4&from=paste&height=47&id=u52792d64&originHeight=59&originWidth=253&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=15160&status=done&style=none&taskId=uc11d9c0e-4391-4aae-aba2-83743ff309c&title=&width=202.4)
#修改ServerName 的名称
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854767040-f0fd3175-f69d-40f4-a059-ed41ffac562a.png#averageHue=%23f8f8f7&clientId=uf806a00a-54d6-4&from=paste&height=290&id=uff1bf4ac&originHeight=363&originWidth=1011&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=169084&status=done&style=none&taskId=u1f7d833b-8ed7-40ef-b766-459f7b87b94&title=&width=808.8)
```java
systemctl start httpd   #启动
systemctl enable httpd  #开机自启动
systemctl status httpd  #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711854880242-62146b89-1d0f-4915-bdcc-27ee0bf7d47f.png#averageHue=%23f7f7f7&clientId=uf806a00a-54d6-4&from=paste&height=586&id=u08e5906c&originHeight=733&originWidth=1555&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=636559&status=done&style=none&taskId=u3cfbd0b1-c7dc-4e48-a26f-e999ecbc03b&title=&width=1244)
```java
cd /root
```
```java
vi admin-login
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855014790-32a9f0d8-8c90-4a97-938f-caddb1ee24b3.png#averageHue=%23f7f7f7&clientId=uf806a00a-54d6-4&from=paste&height=63&id=uaedfa62d&originHeight=79&originWidth=700&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31564&status=done&style=none&taskId=ub1f0860e-c6d3-428f-a209-5d3e16bdcff&title=&width=560)
写这些
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855055940-3483c400-ec98-4ba9-b024-0b4f6202c18a.png#averageHue=%23fcfcfc&clientId=uf806a00a-54d6-4&from=paste&height=389&id=ua08f3a0a&originHeight=486&originWidth=1174&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=195406&status=done&style=none&taskId=u6b758257-e474-49b1-a9fb-a8684eb7ced&title=&width=939.2)
```java
ls
. admin-login #运行
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855097769-60efd378-be87-41fb-821f-ce0d4f88de2e.png#averageHue=%23e0e1de&clientId=uf806a00a-54d6-4&from=paste&height=68&id=u50c342ec&originHeight=85&originWidth=617&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46837&status=done&style=none&taskId=u9b6a6eb4-c140-41da-b6b1-480da7e2d95&title=&width=493.6)
```java
export -p  #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855140063-6936763b-5184-4a26-b830-d9bf1e28ea08.png#averageHue=%23f0f1ee&clientId=uf806a00a-54d6-4&from=paste&height=41&id=u94c7f13e&originHeight=51&originWidth=583&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=22238&status=done&style=none&taskId=u1c469562-367b-4c3d-b00c-4df8ceef23d&title=&width=466.4)
```java
openstack user list  #查看用户列表
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855174759-51504e1a-c1e8-4fb4-a795-8e7b17d11d34.png#averageHue=%23cfcfcc&clientId=uf806a00a-54d6-4&from=paste&height=27&id=u0e0ffbb6&originHeight=34&originWidth=685&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=21965&status=done&style=none&taskId=u6f228eb9-9e2f-475b-808e-c38fa6a23c6&title=&width=548)
```java
openstack role list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855216448-ff6fdfe1-7c11-497a-961a-4678827f444b.png#averageHue=%23f3f3f3&clientId=uf806a00a-54d6-4&from=paste&height=172&id=ua00ace1d&originHeight=215&originWidth=769&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=121625&status=done&style=none&taskId=u565f6bb8-59ce-4eb2-8444-db7e2820b3f&title=&width=615.2)
```java
openstack project list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855295509-af7b4c83-8280-46b0-8773-dcce6102e707.png#averageHue=%23f5f5f5&clientId=uf806a00a-54d6-4&from=paste&height=161&id=ub13ea596&originHeight=201&originWidth=803&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=85695&status=done&style=none&taskId=u358b791e-69d8-4e6f-a385-2aa38764e7f&title=&width=642.4)
```java
openstack role create user
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855366975-c8223168-b072-4ef1-a446-8a6ba30020ac.png#averageHue=%23f7f7f7&clientId=uf806a00a-54d6-4&from=paste&height=226&id=u3811fda4&originHeight=282&originWidth=932&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=160198&status=done&style=none&taskId=u03cb51a3-8fea-40c4-a475-704534ccadd&title=&width=745.6)
```java
openstack project create --domain default project
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855405862-6478f8b5-3091-4d34-acd1-f64e89a17278.png#averageHue=%23f9f9f9&clientId=uf806a00a-54d6-4&from=paste&height=308&id=u40012c7f&originHeight=385&originWidth=1245&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=209089&status=done&style=none&taskId=ua95a3297-b2b5-454d-a090-2883099b1b3&title=&width=996)
```java
openstack project list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855462938-e8cfa2c0-9636-4883-a973-513379c4b7e4.png#averageHue=%23f7f7f7&clientId=uf806a00a-54d6-4&from=paste&height=254&id=u3355b600&originHeight=317&originWidth=1314&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=205710&status=done&style=none&taskId=u20c2e3ed-e252-48c0-b1b4-845048cfe77&title=&width=1051.2)
```java
openstack role list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855520956-7c3fdc95-4f16-4956-9898-cc4a978ff043.png#averageHue=%23d4d5d3&clientId=uf806a00a-54d6-4&from=paste&height=222&id=u0b3bd270&originHeight=278&originWidth=857&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=156528&status=done&style=none&taskId=udba4a3b3-e794-4064-a014-8c154a5666c&title=&width=685.6)
```java
openstack domain list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711855551626-9f4364bd-a9be-46f4-bc46-5a1600581f79.png#averageHue=%23f4f4f4&clientId=uf806a00a-54d6-4&from=paste&height=150&id=u2e428f8f&originHeight=188&originWidth=892&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=123324&status=done&style=none&taskId=ud3ebc053-fa9a-4d1f-ba89-b422a26f861&title=&width=713.6)
## 步骤  安装GLance组件
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum install openstack-glance -y   #安装glance应用
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711877692463-51872e24-ab1a-40cf-b21c-96d4a03deb27.png#averageHue=%23e1e3df&clientId=u158d07c0-6689-4&from=paste&height=57&id=u119424cd&originHeight=71&originWidth=862&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41579&status=done&style=none&taskId=ufc12e77a-254a-4f2b-a820-166777f1f15&title=&width=689.6)
```java
cat /etc/passwd   #查看用户，安装完成之后会自动生成一个用户
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711877789699-f072b5bd-3b3e-4978-98aa-68144c8d0efe.png#averageHue=%23f6f6f6&clientId=u158d07c0-6689-4&from=paste&height=676&id=u1e953367&originHeight=845&originWidth=1381&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=823406&status=done&style=none&taskId=uf9388fff-f5b6-4f36-bd40-52cc53ab1f2&title=&width=1104.8)
```java
mysql -uroot -p<密码>   #进入数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711877900143-4885377e-5bb2-4fd7-af88-2399fe7695b0.png#averageHue=%23f3f3f2&clientId=u158d07c0-6689-4&from=paste&height=214&id=ud169d3f3&originHeight=267&originWidth=1289&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=176630&status=done&style=none&taskId=uf5b988d4-fe9f-4d27-8698-470e500b32e&title=&width=1031.2)
```java
create database glance;   #创建名为glance的数据库
grant all privileges on glance.* to 'glance'@'localhost' identified by '密码';   #设置本地可以使用
grant all privileges on glance.* to 'glance'@'%' identified by '密码';   #设置外部可以使用
quit  #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711877998012-2c46a9d2-eb73-44a5-b576-70355356a985.png#averageHue=%23f8f8f8&clientId=u158d07c0-6689-4&from=paste&height=321&id=ufcd6d040&originHeight=401&originWidth=1515&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=252887&status=done&style=none&taskId=u939bfeb8-6c74-4732-b11d-dce760c4244&title=&width=1212)
```java
mysql -uglance -p<密码>   #用glance登录mysql   本地
show databases;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878286180-1c9e719f-14be-45e0-b3f0-9cd92bc87c65.png#averageHue=%23f7f7f7&clientId=u158d07c0-6689-4&from=paste&height=426&id=u6a1702a7&originHeight=533&originWidth=1365&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=265546&status=done&style=none&taskId=u367cf9e2-4aea-4365-a864-34689dfb6af&title=&width=1092)
```java
mysql -uglance -p<密码> -h192.168.10.10  #远程登录用glance，mysql
show databases;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878358012-1a5f3831-159c-41ad-80cf-8beb020978ee.png#averageHue=%23f9f9f8&clientId=u158d07c0-6689-4&from=paste&height=443&id=u1aa05cb9&originHeight=554&originWidth=1425&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=306691&status=done&style=none&taskId=ud44ecb6e-c5de-492c-bc59-749d2540430&title=&width=1140)
```java
cp /etc/glance/glance-api.conf /etc/glance/glance-api.conf.bak
grep -Ev '^$|#' /etc/glance/glance-api.conf.bak > /etc/glance/glance-api.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878469530-660b6c39-ec06-488e-b93a-9148575d7502.png#averageHue=%23e0e0de&clientId=u158d07c0-6689-4&from=paste&height=126&id=udced5e89&originHeight=157&originWidth=1489&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=135654&status=done&style=none&taskId=u029d6a61-9e9b-4eca-8bf8-8bc1929c4cc&title=&width=1191.2)
```java
vi /etc/glance/glance-api.conf   
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878672977-2426f8f8-8838-4ade-bca7-ed73de30a757.png#averageHue=%23d6d7d4&clientId=u158d07c0-6689-4&from=paste&height=47&id=ue219eb1e&originHeight=59&originWidth=796&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46635&status=done&style=none&taskId=uac29626e-9084-4669-9127-32633705cd0&title=&width=636.8)
#输入以下
```java
[DEFAULT]
[cinder]
[cors]
[database]
connection=mysql+pymysql://glance:1@controller/glance
[file]
[glance.store.http.store]
[glance.store.rbd.store]
[glance.store.sheepdog.store]
[glance.store.swift.store]
[glance.store.vmware_datastore.store]
[glance_store]
stores=file
default_store=file
filesystem_store_datadir=/var/lib/glance/images
[image_format]
[keystone_authtoken]
memcached_servers=controller:11211
auth_url=http://controller:5000/v3
auth_type=password
username=glance
password=1
user_domain_name=Default
project_name=project
project_domain_name=Default

[oslo_concurrency]
[oslo_messaging_amqp]
[oslo_messaging_kafka]
[oslo_messaging_notifications]
[oslo_messaging_rabbit]
[oslo_middleware]
[oslo_policy]
[paste_deploy]
flavor=keystone
[profiler]
[store_type_location_strategy]
[task]
[taskflow_executor]

```
```java
su glance -s /bin/sh -c "glance-manage db_sync"   #实现数据同步
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878875076-56eb3389-ba0e-48ee-986b-d67e25b1c2ee.png#averageHue=%23e0e1d5&clientId=u158d07c0-6689-4&from=paste&height=94&id=u7afbf5be&originHeight=118&originWidth=1323&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=141249&status=done&style=none&taskId=ubb417187-ae08-486c-9149-d1d9aa7859b&title=&width=1058.4)
```java
mysql -uglance -p<密码>  #登录数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878966078-bd89511b-e4b0-4072-9682-944b85d8fe30.png#averageHue=%23f1f1f1&clientId=u158d07c0-6689-4&from=paste&height=207&id=udd1e5f02&originHeight=259&originWidth=1196&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=172466&status=done&style=none&taskId=u9fba3cc8-322f-4705-9b42-151942154fb&title=&width=956.8)
```java
use glance    #切换glance表
show tables;   #查看表结构
quit           #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711878997612-a8959809-9017-48a1-a7a7-7795b90f8406.png#averageHue=%23fafafa&clientId=u158d07c0-6689-4&from=paste&height=598&id=ufe67d8db&originHeight=747&originWidth=1295&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=336073&status=done&style=none&taskId=u480556c9-feb4-4563-aefa-58728c60837&title=&width=1036)
```java
openstack user create --domain default --password <密码> glance
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879085791-ce76570f-78fe-4a91-9505-7f9bd2ea2fd8.png#averageHue=%23eeeeeb&clientId=u158d07c0-6689-4&from=paste&height=271&id=u175b1fc7&originHeight=339&originWidth=1442&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=192205&status=done&style=none&taskId=ua765008c-0fde-415e-9e3e-13b64f60007&title=&width=1153.6)
```java
openstack role add --project project --user glance admin  
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879205022-e65a6ed9-0848-4fe9-b353-83bb4057eb76.png#averageHue=%23e2e2de&clientId=u158d07c0-6689-4&from=paste&height=59&id=ue9b3f58e&originHeight=74&originWidth=1191&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=69523&status=done&style=none&taskId=u8a457a9e-3401-45c6-abb2-d7063381ec4&title=&width=952.8)
```java
openstack service create --name glance image
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879267465-50ad9311-b6a1-4a34-bc1d-4ad2a1ab623f.png#averageHue=%23f7f7f6&clientId=u158d07c0-6689-4&from=paste&height=211&id=ua8e69a16&originHeight=264&originWidth=1069&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=162218&status=done&style=none&taskId=u05c25a14-7b61-4ae5-9f1d-49794292a8f&title=&width=855.2)
```java
openstack endpoint create --region RegionOne glance admin http://controller:9292
openstack endpoint create --region RegionOne glance internal  http://controller:9292
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879367417-eea768fd-b15f-4253-a14b-f6ffe61d3238.png#averageHue=%23f9f9f9&clientId=u158d07c0-6689-4&from=paste&height=616&id=u6233c08b&originHeight=770&originWidth=1583&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=515474&status=done&style=none&taskId=u09b204c9-1e2a-444e-9610-94795e07a37&title=&width=1266.4)
```java
openstack endpoint create --region RegionOne glance public http://controller:9292
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879489115-78f0c181-0a88-48ac-995d-86eddb9a8b49.png#averageHue=%23fafafa&clientId=u158d07c0-6689-4&from=paste&height=321&id=u1d70dca6&originHeight=401&originWidth=1590&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=279070&status=done&style=none&taskId=u92c3e662-cb50-4e42-8a4b-d9f9fba96ae&title=&width=1272)
```java
openstack catalog list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879546052-c6ae00f3-628f-49f1-8991-2846e4d17557.png#averageHue=%23f8f8f8&clientId=u158d07c0-6689-4&from=paste&height=478&id=u94941fc3&originHeight=597&originWidth=1173&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=338375&status=done&style=none&taskId=u48455714-0527-4f00-a8dd-3322195fa67&title=&width=938.4)
```java
systemctl start openstack-glance-api
systemctl enable openstack-glance-api
netstat -nutpl
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711879590646-67d4159a-5ca0-40fa-9ef5-02506f48d176.png#averageHue=%23f9f9f9&clientId=u158d07c0-6689-4&from=paste&height=610&id=u84cd1cd9&originHeight=763&originWidth=1666&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=756431&status=done&style=none&taskId=u5f4bad9b-bd70-4cef-b37d-3a70fbfba3f&title=&width=1332.8)
## 步骤 使用glance创建镜像
#温馨提示，所有文字都在上面，下面是配图
#控制节点
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711880134263-151456d5-6db3-421e-9434-8587c8376fc2.png#averageHue=%23f6f6f5&clientId=u158d07c0-6689-4&from=paste&height=827&id=u0dee83e2&originHeight=1034&originWidth=1911&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=690781&status=done&style=none&taskId=ua458c071-510e-416a-a6d3-aeaa8d9ca2c&title=&width=1528.8)
```java
ls  #查看
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711880156295-dd450945-ca40-4020-9554-06e9544a6c78.png#averageHue=%23f1f1f0&clientId=u158d07c0-6689-4&from=paste&height=66&id=u6f536d02&originHeight=83&originWidth=919&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=56009&status=done&style=none&taskId=u2e87842b-1df1-4247-8770-ff05702f5d8&title=&width=735.2)
```java
 openstack image create --container-format bare --disk-format qcow2 --file cirros-0.5.1-x86_64-disk.img --public cirros
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711880247448-8eac5647-21f3-4eea-b22c-d3b4c732e1ea.png#averageHue=%23eeeeeb&clientId=u158d07c0-6689-4&from=paste&height=73&id=u4779b270&originHeight=91&originWidth=1678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=110677&status=done&style=none&taskId=ucf1aa66c-0680-4bf8-b0ec-0765c640678&title=&width=1342.4)
```java
openstack image list   #查看所有的镜像列表
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711880528217-57601fb9-3ff4-4bf9-8e19-3536def0a041.png#averageHue=%23f1f1f1&clientId=u158d07c0-6689-4&from=paste&height=137&id=u2fc5f4d7&originHeight=171&originWidth=816&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68094&status=done&style=none&taskId=u4e7e8623-0ba9-4605-8f32-89d539ccdd2&title=&width=652.8)
```java
cd /var/lib/glance/images/   #创建镜像所在目录
ls   #查看
ll   #查看权限
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711880584408-7a174965-2db7-493c-ac32-517bb58c1a4f.png#averageHue=%23f6f6f5&clientId=u158d07c0-6689-4&from=paste&height=202&id=u6ef08659&originHeight=253&originWidth=1174&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=131890&status=done&style=none&taskId=u5592f6aa-1e85-4812-88d4-252525f1d2d&title=&width=939.2)
## 步骤 安装PLacement组件
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum install openstack-placement-api -y  #安装相关应用
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711889618450-5ed9956c-900e-4226-b599-c56ab2a46bf5.png#averageHue=%23f1f1f0&clientId=uc1c4901a-015f-4&from=paste&height=116&id=u1851b204&originHeight=145&originWidth=1022&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=118245&status=done&style=none&taskId=uf84c2012-5916-4baf-ba5b-22c045a80c4&title=&width=817.6)
```java
cat /etc/passwd   #查看用户
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711889749902-cbbdbc05-de60-4d70-9fdd-828daaf65234.png#averageHue=%23f7f7f4&clientId=uc1c4901a-015f-4&from=paste&height=96&id=u13cddf5c&originHeight=120&originWidth=698&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=55095&status=done&style=none&taskId=u66af4f66-7902-48a1-8fa6-b76821f8594&title=&width=558.4)
```java
cat /etc/group   #查看用户组
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711889776004-d6150f39-b1d9-45e6-91b8-d367884d9c75.png#averageHue=%23e4e5e2&clientId=uc1c4901a-015f-4&from=paste&height=49&id=u66a0380b&originHeight=61&originWidth=601&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38033&status=done&style=none&taskId=uffcb70be-fd1c-425b-b63e-d6bfe4fff1e&title=&width=480.8)
```java
mysql -uroot -p<密码>   #进入数据库
create database placement;   #创建数据库表
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711889832343-e5e6826d-d31d-4d8f-aa88-6be9af0f8248.png#averageHue=%23f5f4f4&clientId=uc1c4901a-015f-4&from=paste&height=295&id=u0e6d8438&originHeight=369&originWidth=1523&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=280187&status=done&style=none&taskId=uc8076216-fdff-4b37-bb0f-86e232dbaeb&title=&width=1218.4)
```java
grant all privileges on placement.* to 'placement'@'localhost' identified by '密码';   #设置本地可以使用
grant all privileges on placement.* to 'placement'@'%' identified by '密码';   #设置外部可以使用
quit  #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711889975407-5389ea32-a60c-46af-8a50-751597d329f1.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=207&id=u7baa1212&originHeight=259&originWidth=1648&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=191016&status=done&style=none&taskId=u98ed9fe6-b39c-479c-954e-709634b1262&title=&width=1318.4)
```java
mysql -uplacement -p<密码>  #进入数据库
show databases;   #查看表
quit  #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890159099-3c02ae92-6dbd-4162-8e37-dfb4eb0065ba.png#averageHue=%23f6f6f6&clientId=uc1c4901a-015f-4&from=paste&height=480&id=u0210af4a&originHeight=600&originWidth=1254&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=316014&status=done&style=none&taskId=u9bc75f92-7ad2-4c75-ac60-46afb82b973&title=&width=1003.2)
```java
mysql -uplacement -p<密码> -h192.168.10.10  #进入数据库
show databases;   #查看表
quit  #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890240244-44d4e506-0cc4-4dfd-b1e8-ada35f4e6035.png#averageHue=%23f6f6f6&clientId=uc1c4901a-015f-4&from=paste&height=479&id=uc893ea32&originHeight=599&originWidth=1204&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=312212&status=done&style=none&taskId=u6eac4c9c-e9f1-4ded-aad2-20ce8c5b47a&title=&width=963.2)
```java
cp /etc/placement/placement.conf /etc/placement/placement.conf.bak
grep -Ev '^$|#' /etc/placement/placement.conf.bak > /etc/placement/placement.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890352753-796d1afa-290c-443f-9b13-0fd08aaf16d5.png#averageHue=%23f6f6f5&clientId=uc1c4901a-015f-4&from=paste&height=136&id=uaecebbf8&originHeight=170&originWidth=1590&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=191413&status=done&style=none&taskId=u1d307464-0918-4a47-a174-b2706198c38&title=&width=1272)
```java
vi /etc/placement/placement.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890468870-98118a02-f400-4b63-a6c8-eaa9f5765ead.png#averageHue=%23e0ddd0&clientId=uc1c4901a-015f-4&from=paste&height=59&id=uc3ae0c82&originHeight=74&originWidth=889&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=54874&status=done&style=none&taskId=udd1a248e-a0da-46d0-9e6d-0ff267ea27a&title=&width=711.2)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890583521-078f1e67-33b3-49b0-b455-90c3fa5cf2e7.png#averageHue=%23fbfbfb&clientId=uc1c4901a-015f-4&from=paste&height=690&id=u57e99d5d&originHeight=863&originWidth=1311&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=304688&status=done&style=none&taskId=ud28f4bff-e878-4e4f-9916-23c2adbea34&title=&width=1048.8)
```java
[DEFAULT]
[api]
auth_strategy=keystone

[cors]
[keystone_authtoken]
memcached_servers=controller:11211
auth_url=http://controller:5000/v3
auth_type=password
username=placement
password=1
user_domain_name=Default
project_name=project
project_domain_name=Default

[oslo_policy]
[placement]
[placement_database]
connection=mysql+pymysql://placement:1@controller/placement
[profiler]
~

```
```java
vi /etc/httpd/conf.d/00-placement-api.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890617982-a3ae0c79-e2d7-46e3-9b36-4f7e37a20de4.png#averageHue=%23f6f6f5&clientId=uc1c4901a-015f-4&from=paste&height=70&id=u3db58a11&originHeight=88&originWidth=1098&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=63058&status=done&style=none&taskId=u176d30ca-dcc5-4e45-83bc-13b29d6512d&title=&width=878.4)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890681353-b23dce0f-7198-4024-aace-7ca0fc51de9a.png#averageHue=%23fafafa&clientId=uc1c4901a-015f-4&from=paste&height=679&id=ue6fdced1&originHeight=849&originWidth=1326&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=442501&status=done&style=none&taskId=u09382ad1-af3d-4268-b2d7-cdeb4c3aa47&title=&width=1060.8)
```java
su placement -s /bin/sh -c "placement-manage db sync"  #同步数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890741196-2c2aaf8a-8988-4b8d-96a4-8826d43aa1ac.png#averageHue=%23f6f6f5&clientId=uc1c4901a-015f-4&from=paste&height=113&id=ud75ae79b&originHeight=141&originWidth=1649&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=156122&status=done&style=none&taskId=uc323039e-6280-45e9-bdfe-a96fd6c61e9&title=&width=1319.2)
```java
mysql -uplacement -p<密码>   #进入数据库
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890817403-b12b3eb5-b506-4ddc-bb37-e53b57107be3.png#averageHue=%23f1f1f1&clientId=uc1c4901a-015f-4&from=paste&height=341&id=u4e5faca2&originHeight=426&originWidth=1226&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=280384&status=done&style=none&taskId=u128d7022-6fe9-46ae-844c-82f2aa3742b&title=&width=980.8)
```java
use placement
show tables;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890891606-517aeb26-b36b-4d9a-946c-2c1fcfe8a700.png#averageHue=%23f7f7f7&clientId=uc1c4901a-015f-4&from=paste&height=609&id=u65f05c6e&originHeight=761&originWidth=1055&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=302011&status=done&style=none&taskId=u47b2d9f4-2c50-4eea-a79e-e5da0f6d36a&title=&width=844)
```java
systemctl restart httpd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711890963056-c56ff007-ac1e-4d9b-862f-ed0c57a0ce6d.png#averageHue=%23e8e8e1&clientId=uc1c4901a-015f-4&from=paste&height=37&id=u108a942c&originHeight=46&originWidth=846&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38256&status=done&style=none&taskId=uafe28c87-8d9f-45aa-81da-f958447a411&title=&width=676.8)
```java
netstat -nutpl
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891021274-afbca973-1452-452e-a4df-2bc38f7547f2.png#averageHue=%23f3f3f3&clientId=uc1c4901a-015f-4&from=paste&height=593&id=u88879253&originHeight=741&originWidth=1468&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=601919&status=done&style=none&taskId=u98e14d8a-2add-4b61-a580-63456c99d83&title=&width=1174.4)
```java
. admin-login
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891076878-bd658e6d-02c1-4ef2-afe7-7f75a48cb6eb.png#averageHue=%23ebeae4&clientId=uc1c4901a-015f-4&from=paste&height=39&id=uba0741d8&originHeight=49&originWidth=621&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29325&status=done&style=none&taskId=u104544c4-a974-4b03-8853-869e73730a9&title=&width=496.8)
```java
openstack user create --domain default --password <密码> placement
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891138032-c001082f-d731-43ef-b53b-f9fbd5fae353.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=264&id=u4e4dd536&originHeight=330&originWidth=1335&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=214230&status=done&style=none&taskId=u4a52e3b4-1135-4eae-99a9-5b3506e1e28&title=&width=1068)
```java
openstack role add --project project --user placement admin
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891230217-3b66580c-de09-4131-95be-ae6e0a55b18b.png#averageHue=%23e0e1dc&clientId=uc1c4901a-015f-4&from=paste&height=39&id=u6d010a0a&originHeight=49&originWidth=1240&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68013&status=done&style=none&taskId=uc339ae93-af3b-4b47-a639-21ae924cecb&title=&width=992)
```java
openstack service create --name placement placement
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891294458-92aa594a-4ee7-434a-bd06-0db7d7f7aef0.png#averageHue=%23f8f8f7&clientId=uc1c4901a-015f-4&from=paste&height=227&id=u520a4a85&originHeight=284&originWidth=1133&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=186057&status=done&style=none&taskId=u85e2f6f2-447a-4d2a-8013-53d2da10478&title=&width=906.4)
```java
openstack endpoint create --region RegionOne placement admin http://controller:8778
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891366207-aeba4e8a-926e-4394-a752-ccc4e6ac0964.png#averageHue=%23f9f9f9&clientId=uc1c4901a-015f-4&from=paste&height=328&id=u041321e0&originHeight=410&originWidth=1613&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=290414&status=done&style=none&taskId=u69888bde-432d-4480-816f-2ad0dff4592&title=&width=1290.4)
```java
openstack endpoint create --region RegionOne placement internal http://controller:8778
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891448577-e71ffde6-3499-42fd-9548-800990e2695b.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=335&id=ue17ca11a&originHeight=419&originWidth=1628&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=282019&status=done&style=none&taskId=u112206e2-10bc-413e-a21a-711a1216899&title=&width=1302.4)
```java
openstack endpoint create --region RegionOne placement public http://controller:8778
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891527973-26236600-513d-4239-a921-a5a1f34e7f18.png#averageHue=%23f9f9f9&clientId=uc1c4901a-015f-4&from=paste&height=335&id=uf3ef2fc4&originHeight=419&originWidth=1664&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=294186&status=done&style=none&taskId=u6a8912c6-6133-4c2f-86e9-4b41ef940f4&title=&width=1331.2)
```java
openstack catalog list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891541654-15378b56-9758-4ce0-a8d1-b56684f58d8f.png#averageHue=%23f6f6f6&clientId=uc1c4901a-015f-4&from=paste&height=623&id=u32ccc762&originHeight=779&originWidth=1139&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=405430&status=done&style=none&taskId=u420b7c63-74dd-4624-9a7e-bced99fbf48&title=&width=911.2)
## 步骤 在控制节点安装Nova组件
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum list *nova*   #查找
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891630122-df3c58e4-df2d-4799-b701-949561d1d4cb.png#averageHue=%23d9d9d6&clientId=uc1c4901a-015f-4&from=paste&height=99&id=u04f10d84&originHeight=124&originWidth=665&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=82795&status=done&style=none&taskId=u52eb1d4d-abef-4d0d-88b7-c7c53a33737&title=&width=532)
```java
yum install openstack-nova-api openstack-nova-conductor openstack-nova-novncproxy openstack-nova-scheduler -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891692644-0d5afe10-c424-4b3a-b75d-61512d3e7113.png#averageHue=%23f6f6f6&clientId=uc1c4901a-015f-4&from=paste&height=95&id=u8fe4a105&originHeight=119&originWidth=1645&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=114645&status=done&style=none&taskId=u0afe4f02-5e87-4f8e-90b0-b89c91e36ae&title=&width=1316)
```java
cat /etc/passwd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891804078-3eac4721-9cfb-45ba-b6c0-71dc409b4523.png#averageHue=%23f7f7f7&clientId=uc1c4901a-015f-4&from=paste&height=58&id=u7daef585&originHeight=73&originWidth=588&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29456&status=done&style=none&taskId=ue32fde13-e3ea-4d4c-b1b1-e43efcf8fe4&title=&width=470.4)
```java
cat /etc/group
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891846097-25a1532d-dec9-4ae1-b1ed-b04e61763d7d.png#averageHue=%23f4f5f2&clientId=uc1c4901a-015f-4&from=paste&height=33&id=u3c5d3bff&originHeight=41&originWidth=539&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=22836&status=done&style=none&taskId=u70833025-98fe-4b87-8845-a6314316689&title=&width=431.2)
```java
mysql -uroot -p<密码>   #进入数据库
create database nova;
create database nova_api;
create database nova_cell0;
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711891902720-1d371be5-dca5-4dae-b6b0-17f06d316ddf.png#averageHue=%23f5f5f4&clientId=uc1c4901a-015f-4&from=paste&height=368&id=ue594081a&originHeight=460&originWidth=1205&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=323719&status=done&style=none&taskId=u3faecfdd-25a1-4b8f-8c0e-83c2bb8ff84&title=&width=964)
```java
grant all privileges on nova.* to 'nova'@'localhost' identified by '密码'   #设置本地可以使用
grant all privileges on nova_api.* to 'nova'@'localhost' identified by '密码'   #设置本地可以使用
grant all privileges on nova_cell0.* to 'nova'@'localhost' identified by '密码'   #设置本地可以使用
grant all privileges on nova.* to 'nova'@'%' identified by '密码'   #设置外部可以使用
grant all privileges on nova_api.* to 'nova'@'%' identified by '密码'   #设置外部可以使用
grant all privileges on nova_cell0.* to 'nova'@'%' identified by '密码'   #设置外部可以使用
quit  #退出
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892011903-e59d6e8f-5a1f-43b6-b21f-69dcdc1165da.png#averageHue=%23f6f6f6&clientId=uc1c4901a-015f-4&from=paste&height=446&id=u0d4f2763&originHeight=557&originWidth=1487&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=481590&status=done&style=none&taskId=ud6c7d01b-0899-4401-875f-35fc669df57&title=&width=1189.6)
```java
mysql -unova -p<密码>   #进入数据库
show databases; 
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892205473-1cdbc17a-ab1d-47a2-8bd2-babd8743ca0c.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=470&id=u92d2d7c2&originHeight=588&originWidth=1137&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=313477&status=done&style=none&taskId=u15fa1279-7512-4515-86be-e24555284e2&title=&width=909.6)
```java
mysql -unova -p<密码> -h192.168.10.10   #进入数据库
show databases; 
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892276971-91022e26-bc97-4bc7-b0fa-4299cece0a05.png#averageHue=%23f8f8f7&clientId=uc1c4901a-015f-4&from=paste&height=456&id=u180d01d6&originHeight=570&originWidth=1259&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=297510&status=done&style=none&taskId=ua7d17f54-121c-46b9-9b77-a83b693055e&title=&width=1007.2)
```java
cp /etc/nova/nova.conf /etc/nova/nova.conf.bak 
grep -Ev '^$|#' /etc/nova/nova.conf.bak > /etc/nova/nova.conf
vi /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892320061-1a8a7384-1a73-41bb-9578-40c86dfa3fe3.png#averageHue=%23e5e6e3&clientId=uc1c4901a-015f-4&from=paste&height=50&id=u781c2920&originHeight=62&originWidth=1000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=56662&status=done&style=none&taskId=u52eaa9f3-23e7-43cb-921a-12bedef990a&title=&width=800)![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892374291-9d284b24-e16a-44be-b425-312d3241e837.png#averageHue=%23e0e1de&clientId=uc1c4901a-015f-4&from=paste&height=54&id=u9bfecc0e&originHeight=68&originWidth=1178&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=75742&status=done&style=none&taskId=ub3b8d8e3-52db-43f5-8b19-850808f2799&title=&width=942.4)


![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892711957-8a710266-766b-4823-97e2-aecf0bee78b4.png#averageHue=%23385a7e&clientId=uc1c4901a-015f-4&from=paste&height=724&id=uf4046779&originHeight=905&originWidth=1610&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=299205&status=done&style=none&taskId=u85ef7df7-9488-4e21-b49f-7c7c4079d43&title=&width=1288)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892737086-62e95d14-c25a-47ca-ba5d-2ef897f2f1ad.png#averageHue=%2337597e&clientId=uc1c4901a-015f-4&from=paste&height=687&id=u51fea007&originHeight=859&originWidth=1558&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=283654&status=done&style=none&taskId=u6085b716-e8a0-4853-9eb9-e4cb2e1b873&title=&width=1246.4)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892759372-7db7465c-2bd6-47e0-a918-e24201647e36.png#averageHue=%2336597d&clientId=uc1c4901a-015f-4&from=paste&height=760&id=uef872b1d&originHeight=950&originWidth=1560&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=257549&status=done&style=none&taskId=u60942890-044d-4b71-a14a-4eeebc8e462&title=&width=1248)
```java
[DEFAULT]
transport_url=rabbit://rabbitmq:1@controller:5672
my_ip=192.168.10.10
use_neutron=true
enable_apis=osapi_compute,metadata
firewall_driver=nova.virt.firewall.NoopFirewallDriver

[api]
auth_strategy=keystone
[api_database]
connection=mysql+pymysql://nova:1@controller/nova_api

[barbican]
[cache]
[cinder]
[compute]
[conductor]
[console]
[consoleauth]
[cors]
[database]
connection=mysql+pymysql://nova:1@controller/nova

[devices]
[ephemeral_storage_encryption]
[filter_scheduler]
[glance]
api_servers=http://controller:9292
[guestfs]
[healthcheck]
[hyperv]
[ironic]
[key_manager]
[keystone]
[keystone_authtoken]
memcached_servers=controller:11211
auth_url=http://controller:5000/v3
auth_type=password
username=nova
password=1
user_domain_name=Default
project_name=project
project_domain_name=Default
[libvirt]
[metrics]
[mks]
[neutron]
[notifications]
[osapi_v21]
[oslo_concurrency]
lock_path=/var/lib/nova/tmp

[oslo_messaging_amqp]
[oslo_messaging_kafka]
[oslo_messaging_notifications]
[oslo_messaging_rabbit]
[oslo_middleware]
[oslo_policy]
[pci]
[placement]
memcached_servers=controller:11211
auth_url=http://controller:5000/v3
auth_type=password
username=placement
password=1
user_domain_name=Default
project_name=project
project_domain_name=Default
region_name=RegionOne
[powervm]
[privsep]
[profiler]
[quota]
[rdp]
[remote_debug]
[scheduler]
[serial_console]
[service_user]
[spice]
[upgrade_levels]
[vault]
[vendordata_dynamic_auth]
[vmware]
[vnc]
enabled=true
server_listen=$my_ip
server_proxyclient_listen=$my_ip

[workarounds]
[wsgi]
[xenserver]
[xvp]
[zvm]

```
```java
su nova -s /bin/sh -c "nova-manage api_db sync"
mysql -unova -p<密码> 
use nova_api
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892817603-cad30b2b-37c8-4e9d-a59a-d508bd462a1f.png#averageHue=%23f4f4f4&clientId=uc1c4901a-015f-4&from=paste&height=284&id=ua3b1ed49&originHeight=355&originWidth=1276&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=299807&status=done&style=none&taskId=u215334d3-11d6-40f1-a84a-1ed9795baca&title=&width=1020.8)
```java
show tables;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892901219-aad85917-b65e-4061-8b99-57605760efe4.png#averageHue=%23f5f5f5&clientId=uc1c4901a-015f-4&from=paste&height=89&id=ufd62bfe0&originHeight=111&originWidth=562&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=27457&status=done&style=none&taskId=u53adf81d-a9ad-487e-8eda-514bdc23a6e&title=&width=449.6)![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892907280-354c4d90-e509-476d-85ca-74c93ed8e6bf.png#averageHue=%23f5f5f4&clientId=uc1c4901a-015f-4&from=paste&height=65&id=ufe525d17&originHeight=81&originWidth=398&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=20430&status=done&style=none&taskId=ua91be411-8170-459d-9555-5bc160e6883&title=&width=318.4)
```java
su nova -s /bin/sh -c "nova-manage cell_v2 create_cell --name cell1 --verbose"
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711892958599-4611a10f-833c-4b65-9492-9397779917a1.png#averageHue=%23e0e1de&clientId=uc1c4901a-015f-4&from=paste&height=73&id=ubb450290&originHeight=91&originWidth=1420&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=107459&status=done&style=none&taskId=ubaebce55-6a31-4530-8126-402665b38a1&title=&width=1136)
```java
nova-manage cell_v2 list_cells
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893067138-c31f3de4-098a-4363-9371-5ca4f260d443.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=234&id=u6aebee0a&originHeight=292&originWidth=1641&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=283575&status=done&style=none&taskId=u381e6181-5037-465e-baee-a7d0f7d4ff8&title=&width=1312.8)
```java
su nova -s /bin/sh -c "nova-manage cell_v2 map_cell0"
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893133141-2ec49432-c62c-4b10-934a-66623ff693ad.png#averageHue=%23dcddda&clientId=uc1c4901a-015f-4&from=paste&height=51&id=udccedb79&originHeight=64&originWidth=1071&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=68452&status=done&style=none&taskId=u0aba1695-c8b1-4e8c-a2fc-0b08a6f3337&title=&width=856.8)
```java
su nova -s /bin/sh -c "nova-manage db sync"
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893213321-00126d60-69b0-49eb-9225-65a71984caf8.png#averageHue=%23f7f7f7&clientId=uc1c4901a-015f-4&from=paste&height=35&id=u1b1f8a70&originHeight=44&originWidth=1648&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=51913&status=done&style=none&taskId=u2b3432db-0fa1-4c99-9930-2e3427a9a4b&title=&width=1318.4)
```java
mysql -unova -p<密码>
show databases;
use nova 
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893261041-eabce1b5-e370-4e82-97f8-5281b7abbeb5.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=530&id=uf09aac82&originHeight=662&originWidth=1444&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=390743&status=done&style=none&taskId=u23ddebce-b4e9-454e-b24c-ffa53adfa30&title=&width=1155.2)
```java
show tables;
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893326303-b4b876bf-b2f3-461a-926f-35fe67e34fb6.png#averageHue=%23f3f3f3&clientId=uc1c4901a-015f-4&from=paste&height=74&id=u420a684f&originHeight=92&originWidth=514&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=28304&status=done&style=none&taskId=u68d69df8-30fc-4f4b-b5a6-50c855aacc4&title=&width=411.2)
```java
use nova_cell0
show tables;
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893400522-2e921958-7981-4d6e-be9a-4c993604b4bf.png#averageHue=%23f4f4f4&clientId=uc1c4901a-015f-4&from=paste&height=163&id=u3239ad38&originHeight=204&originWidth=1011&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=125756&status=done&style=none&taskId=ua81f64de-a3ad-4aa5-aa3a-c5c9f27bba6&title=&width=808.8)
```java
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893433410-3636611e-906f-48b5-9e73-0f710411b69f.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=66&id=u2e110736&originHeight=82&originWidth=422&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=23775&status=done&style=none&taskId=u39651a2b-da38-4b63-9a4e-6f10a10f39b&title=&width=337.6)
```java
nova-manage cell_v2 list_cells
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893459343-098aea1e-575a-4fa2-babe-7225e81709e7.png#averageHue=%23f8f8f7&clientId=uc1c4901a-015f-4&from=paste&height=282&id=u96acd165&originHeight=352&originWidth=1657&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=329177&status=done&style=none&taskId=u7e558a8f-4038-447c-9855-cc64fa9b8a5&title=&width=1325.6)
```java
. admin-login
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893495832-9030124c-1a04-4163-8ed4-ae9cfe0dad96.png#averageHue=%23e2e3df&clientId=uc1c4901a-015f-4&from=paste&height=74&id=uedad05fa&originHeight=93&originWidth=547&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=50264&status=done&style=none&taskId=u7a6dae1b-98e1-4678-9526-8e7d265143a&title=&width=437.6)
```java
openstack user create --domain default --password <密码> nova
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893536905-73e7c9ce-9248-46ea-8175-320dd3f9caed.png#averageHue=%23f9f9f9&clientId=uc1c4901a-015f-4&from=paste&height=256&id=u764ed71b&originHeight=320&originWidth=1326&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=204472&status=done&style=none&taskId=u43a588ea-a65a-4c24-9ebb-b57dab1a3d0&title=&width=1060.8)
```java
openstack role add --project project --user nova admin
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893581567-829245b4-1098-40e5-b4ae-269256e1fd29.png#averageHue=%23e0e0dd&clientId=uc1c4901a-015f-4&from=paste&height=66&id=ue44937b4&originHeight=82&originWidth=1128&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=88123&status=done&style=none&taskId=uddf2fdb2-7b08-446f-aba1-645c49fa191&title=&width=902.4)
```java
openstack service create --name nova compute
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893628963-784fb21f-9db3-42b9-b557-8cdf89c4f6f9.png#averageHue=%23f8f8f8&clientId=uc1c4901a-015f-4&from=paste&height=206&id=u204d290f&originHeight=257&originWidth=976&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=154650&status=done&style=none&taskId=ue1d2d1d2-3d37-4196-b718-bb0a4d41dd8&title=&width=780.8)
```java
openstack endpoint create --region RegionOne nova admin httpd://controller:8774/v2.1
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893704068-18a2fc40-7737-4af4-98e0-677c1b0224d2.png#averageHue=%23fafafa&clientId=uc1c4901a-015f-4&from=paste&height=301&id=u36426bb4&originHeight=376&originWidth=1511&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=286786&status=done&style=none&taskId=u30aedb4f-1479-4ffb-9a28-b3363ce1fdb&title=&width=1208.8)
```java
openstack endpoint create --region RegionOne nova internal httpd://controller:8774/v2.1
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893808428-bb4524ab-d8a3-4599-9bc3-600752d41664.png#averageHue=%23f9f9f9&clientId=uc1c4901a-015f-4&from=paste&height=294&id=u40d50ffd&originHeight=367&originWidth=1552&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=270738&status=done&style=none&taskId=ud2b8431a-9a59-4650-957b-0308051a631&title=&width=1241.6)
```java
openstack endpoint create --region RegionOne nova public httpd://controller:8774/v2.1
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893852347-a6ec2943-7d4e-4888-ae55-bc530dc63c36.png#averageHue=%23fafafa&clientId=uc1c4901a-015f-4&from=paste&height=302&id=u900e69dc&originHeight=377&originWidth=1540&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=271653&status=done&style=none&taskId=ue76b9f7c-5faa-4a08-ba2d-3c0bd821bb4&title=&width=1232)
```java
openstack catalog list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893890732-287f02e2-3e49-4fd3-941a-eae81491b45d.png#averageHue=%23f4f4f4&clientId=uc1c4901a-015f-4&from=paste&height=74&id=u15e513aa&originHeight=93&originWidth=697&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46817&status=done&style=none&taskId=u669061a6-526a-4000-be26-a1a4bebfd90&title=&width=557.6)
```java
yum list *nova*
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893929857-e1c08de6-8012-40ec-8fc2-bfd176a835a7.png#averageHue=%23dededa&clientId=uc1c4901a-015f-4&from=paste&height=90&id=uc8df9d3a&originHeight=113&originWidth=649&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77531&status=done&style=none&taskId=u840f6bc6-7750-4e32-bddb-8a4d42f2828&title=&width=519.2)
```java
systemctl start openstack-nova-api openstack-nova-conductor openstack-nova-novncproxy openstack-nova-scheduler
systemctl enable openstack-nova-api openstack-nova-conductor openstack-nova-novncproxy openstack-nova-scheduler
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711893972121-80e44caa-2dcd-4cbc-a586-8be3f1f7d58e.png#averageHue=%23e5e5e2&clientId=uc1c4901a-015f-4&from=paste&height=284&id=u33d102ea&originHeight=355&originWidth=1647&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=463522&status=done&style=none&taskId=u797815f0-fee8-4d49-be5c-d9b2b1ee232&title=&width=1317.6)
```java
systemctl status openstack-nova-api
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711894136503-fa0e95cf-65ae-472e-860c-caea892f29aa.png#averageHue=%23f7f7f7&clientId=uc1c4901a-015f-4&from=paste&height=260&id=u0b8ded98&originHeight=325&originWidth=1513&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=338331&status=done&style=none&taskId=ub7b62439-1f80-479d-ab71-d48e6fa32dd&title=&width=1210.4)
```java
netstat -nutpl
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711894193461-43df147a-6fcb-45e1-a350-73a2751b68c9.png#averageHue=%23f0f0ee&clientId=uc1c4901a-015f-4&from=paste&height=42&id=u61f58c53&originHeight=53&originWidth=609&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29267&status=done&style=none&taskId=u7df28113-cec1-4239-95d0-a659dfe3a45&title=&width=487.2)
## 步骤 在计算节点安装NOVA组件
#温馨提示，所有文字都在上面，下面是配图
#提示，因为计算节点yum源是控制节点上的，所以说控制节点也要保持打开状态才可以
#计算节点
```java
yum list *nova*
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897314953-43cb82bb-4d8d-42cb-8731-c60a5e8ac89e.png#averageHue=%23f8f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=126&id=u42223f46&originHeight=157&originWidth=678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=65375&status=done&style=none&taskId=u49c3344b-95ab-4ab3-ae65-bb24450e9b9&title=&width=542.4)
```java
yum install openstack-nova-compute -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897380751-4ce45a1d-f86b-4527-94f6-be21ae45bc32.png#averageHue=%23f8f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=90&id=u8bb272e3&originHeight=112&originWidth=1180&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=88223&status=done&style=none&taskId=u438d4fdb-20bd-464c-a1ec-57aaf5478bd&title=&width=944)
```java
cat /etc/passwd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897443813-6bfc2047-be4f-4aca-a5de-3be6ee15ec95.png#averageHue=%23f5f5f5&clientId=ub4c2b334-9e42-4&from=paste&height=646&id=u0c4ee913&originHeight=807&originWidth=1352&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=698432&status=done&style=none&taskId=ue5c90634-dca7-4981-a99f-7cc457fa6fd&title=&width=1081.6)
```java
cat /etc/group
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897488080-289f8a75-9a25-4461-b1a3-c1e2f35bd9b3.png#averageHue=%23eceeea&clientId=ub4c2b334-9e42-4&from=paste&height=34&id=ucf0575cf&originHeight=43&originWidth=478&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=19661&status=done&style=none&taskId=u387cf297-fcbb-4e1c-9a78-2be196028a1&title=&width=382.4)
```java
cp /etc/nova/nova.conf /etc/nova/nova.conf.bak
grep -Ev '^$|#' /etc/nova/nova.conf.bak > /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897535453-dd734850-f2d1-434d-a158-7a14dee0902c.png#averageHue=%23d4d5d1&clientId=ub4c2b334-9e42-4&from=paste&height=60&id=u76ba9b0e&originHeight=75&originWidth=1073&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=79969&status=done&style=none&taskId=u39dab7d3-c0ff-42b4-a047-86ae4789149&title=&width=858.4)
```java
vi /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897611644-29034f0f-f7e2-43a8-9109-f3149c349488.png#averageHue=%23dedfdc&clientId=ub4c2b334-9e42-4&from=paste&height=36&id=ud76a3728&originHeight=45&originWidth=599&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=27363&status=done&style=none&taskId=u1ef335eb-d67f-4852-be22-0e912c5c2d8&title=&width=479.2)
```java
[DEFAULT]
transport_url = rabbit://rabbitmq:1@controller:5672
my_ip = 192.168.10.20
use_neutron = true
enable_apis = osapi_compute,metadata
firewall_driver = nova.virt.firewall.NoopFirewallDriver

[api]
auth_strategy = keystone

[api_database]
[barbican]
[cache]
[cinder]
[compute]
[conductor]
[console]
[consoleauth]
[cors]
[database]
[devices]
[ephemeral_storage_encryption]
[filter_scheduler]
[glance]
api_servers = http://controller:9292

[guestfs]
[healthcheck]
[hyperv]
[ironic]
[key_manager]
[keystone]
[keystone_authtoken]
memcached_servers = controller:11211
auth_url = http://controller:5000/v3
auth_type = password
username = nova
password = 1
user_domain_name = Default
project_name = project
project_domain_name = Default
[libvirt]
virt_type=qemu
[metrics]
[mks]
[neutron]
[notifications]
[osapi_v21]
[oslo_concurrency]
lock_path = /var/lib/nova/tmp

[oslo_messaging_amqp]
[oslo_messaging_kafka]
[oslo_messaging_notifications]
[oslo_messaging_rabbit]
[oslo_middleware]
[oslo_policy]
[pci]
[placement]
memcached_servers = controller:11211
auth_url = http://controller:5000/v3
auth_type = password
username = placement
password = 1
user_domain_name = Default
project_name = project
project_domain_name = Default
region_name = RegionOne

[powervm]
[privsep]
[profiler]
[quota]
[rdp]
[remote_debug]
[scheduler]
[serial_console]
[service_user]

```
```java
systemctl start openstack-nova-compute libvirtd
systemctl status openstack-nova-compute
systemctl enable openstack-nova-compute libvirtd
systemctl status openstack-nova-compute 
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897748333-bf8f4d9c-8cd6-45fe-b7a4-45483326b371.png#averageHue=%23f5f5f5&clientId=ub4c2b334-9e42-4&from=paste&height=662&id=u36ebccc2&originHeight=828&originWidth=1633&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=936043&status=done&style=none&taskId=ue1c66b04-9d20-4507-b192-eb5cc7ac8cb&title=&width=1306.4)
## 步骤 发现计算节点
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
. admin-login
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897924528-8b0c8785-ed51-4b65-bcd9-e56059a9283f.png#averageHue=%23d7d7d4&clientId=ub4c2b334-9e42-4&from=paste&height=35&id=uf0ce0051&originHeight=44&originWidth=544&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=25150&status=done&style=none&taskId=ud06f4f48-2d6a-4865-8d8e-89498a9c054&title=&width=435.2)
```java
su nova -s /bin/sh -c "nova-manage cell_v2 discover_hosts"
nova-manage cell_v2 discover_hosts
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711897988842-68121e5a-cba4-4a6d-ab05-849cbb1ebb3c.png#averageHue=%23f5f5f5&clientId=ub4c2b334-9e42-4&from=paste&height=195&id=u16baadff&originHeight=244&originWidth=1659&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=269618&status=done&style=none&taskId=u7ef07c27-a711-4e54-b7da-1a99a2f9bdb&title=&width=1327.2)
```java
nova-manage cell_v2 list_hosts
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898094433-cf2a2962-e77f-4cab-a4b4-b788db812324.png#averageHue=%23f4f4f4&clientId=ub4c2b334-9e42-4&from=paste&height=128&id=u8ee79ec8&originHeight=160&originWidth=803&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=93114&status=done&style=none&taskId=ucc10f87e-afb0-4435-9eb6-4100fc7dc66&title=&width=642.4)
```java
vi /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898152383-b96e865f-d42c-4401-bd28-5837c2d2768b.png#averageHue=%23f6f6f6&clientId=ub4c2b334-9e42-4&from=paste&height=85&id=u1122d756&originHeight=106&originWidth=716&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44973&status=done&style=none&taskId=u74df15f1-a0ec-4739-b4e0-19cf7ebce08&title=&width=572.8)
#加一行
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898231870-84071b63-b652-400d-b12d-77e26af60909.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=45&id=uedd4f7f0&originHeight=56&originWidth=742&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=23030&status=done&style=none&taskId=u2173f7b3-cdf6-484c-ba57-aefd31c77c7&title=&width=593.6)
```java
systemctl restart openstack-nova-api
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898255515-ddbd4701-1e6a-4172-8d04-a860a0ccb75c.png#averageHue=%23f8f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=44&id=u97578f20&originHeight=55&originWidth=754&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=32979&status=done&style=none&taskId=u17a2cf87-9884-4f26-9b55-85b516ceedb&title=&width=603.2)
```java
openstack compute service list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898293786-78dedae6-c5d7-437e-bd2d-a1cfdb37c0df.png#averageHue=%23f3f3f2&clientId=ub4c2b334-9e42-4&from=paste&height=184&id=u4e9808a6&originHeight=230&originWidth=1179&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=216362&status=done&style=none&taskId=uf3843cb9-8abc-4fff-940f-3f396c3ba71&title=&width=943.2)
## 步骤 为Nwutron安装准备初始化环境
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
ifconfig ens34 promisc
ip a
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898926036-94705656-adcf-4b47-b120-e72c36fcce20.png#averageHue=%23f7f7f6&clientId=ub4c2b334-9e42-4&from=paste&height=408&id=uabe2e6d8&originHeight=510&originWidth=1504&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=526723&status=done&style=none&taskId=u17e90173-db66-451c-9f34-ab45dd39eb8&title=&width=1203.2)
```java
vi /etc/profile
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898972484-cf23a18a-1846-49fe-8b17-096ec63bb80f.png#averageHue=%23f9f9f8&clientId=ub4c2b334-9e42-4&from=paste&height=55&id=u238a30da&originHeight=69&originWidth=552&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=21961&status=done&style=none&taskId=ud21fc748-7e19-458b-9a28-1a79f11de08&title=&width=441.6)
#最后一行加
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899018684-74320d99-20cd-4d67-9ed4-ef8da7c12d77.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=128&id=u606955bc&originHeight=160&originWidth=574&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=42202&status=done&style=none&taskId=u926fb3cb-d9b3-45f4-adc7-9a95996a3b9&title=&width=459.2)
```java
vi /etc/sysctl.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899424759-63c22efc-e3de-485d-b57c-79eac7adf536.png#averageHue=%23f2f2f2&clientId=ub4c2b334-9e42-4&from=paste&height=39&id=u2dea808f&originHeight=49&originWidth=585&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26178&status=done&style=none&taskId=u20c17f46-70a8-467c-b632-065ac2e35c5&title=&width=468)
#添加后两行
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899473386-fd27ed49-7e7c-4ad1-ae69-62f702edd4e8.png#averageHue=%23fbfbfb&clientId=ub4c2b334-9e42-4&from=paste&height=487&id=u04f99ed2&originHeight=609&originWidth=1178&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=300234&status=done&style=none&taskId=uc2518e76-3257-4735-90d9-a068edaad5c&title=&width=942.4)
```java
modprobe br_netfilter
sysctl -p
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899560058-5b49d040-5af5-40e6-8875-d32457f3c54b.png#averageHue=%23d9d9d6&clientId=ub4c2b334-9e42-4&from=paste&height=92&id=u6bdcb5f4&originHeight=115&originWidth=618&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=74530&status=done&style=none&taskId=ub345ed43-b4c7-4e48-9d98-4841b0f3886&title=&width=494.4)
#计算节点
```java
yum install net-tools -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899057445-2f0d0ff6-78d6-4c8d-a82e-ae1b270f4ca8.png#averageHue=%23e7e8e4&clientId=ub4c2b334-9e42-4&from=paste&height=70&id=u7b5a03f9&originHeight=87&originWidth=716&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=67574&status=done&style=none&taskId=u28cdad9e-62ea-44a7-8f31-01029c8840a&title=&width=572.8)
```java
ifconfig ens34 promisc
ip a
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898926036-94705656-adcf-4b47-b120-e72c36fcce20.png#averageHue=%23f7f7f6&clientId=ub4c2b334-9e42-4&from=paste&height=408&id=SOwZh&originHeight=510&originWidth=1504&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=526723&status=done&style=none&taskId=u17e90173-db66-451c-9f34-ab45dd39eb8&title=&width=1203.2)
```java
vi /etc/profile
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711898972484-cf23a18a-1846-49fe-8b17-096ec63bb80f.png#averageHue=%23f9f9f8&clientId=ub4c2b334-9e42-4&from=paste&height=55&id=sdEJD&originHeight=69&originWidth=552&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=21961&status=done&style=none&taskId=ud21fc748-7e19-458b-9a28-1a79f11de08&title=&width=441.6)
#最后一行加
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899018684-74320d99-20cd-4d67-9ed4-ef8da7c12d77.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=128&id=noupd&originHeight=160&originWidth=574&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=42202&status=done&style=none&taskId=u926fb3cb-d9b3-45f4-adc7-9a95996a3b9&title=&width=459.2)
```java
vi /etc/sysctl.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899424759-63c22efc-e3de-485d-b57c-79eac7adf536.png#averageHue=%23f2f2f2&clientId=ub4c2b334-9e42-4&from=paste&height=39&id=qyhB8&originHeight=49&originWidth=585&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26178&status=done&style=none&taskId=u20c17f46-70a8-467c-b632-065ac2e35c5&title=&width=468)
#添加后两行
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899473386-fd27ed49-7e7c-4ad1-ae69-62f702edd4e8.png#averageHue=%23fbfbfb&clientId=ub4c2b334-9e42-4&from=paste&height=487&id=wWMaH&originHeight=609&originWidth=1178&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=300234&status=done&style=none&taskId=uc2518e76-3257-4735-90d9-a068edaad5c&title=&width=942.4)
```java
modprobe br_netfilter
sysctl -p
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711899560058-5b49d040-5af5-40e6-8875-d32457f3c54b.png#averageHue=%23d9d9d6&clientId=ub4c2b334-9e42-4&from=paste&height=92&id=x7Dux&originHeight=115&originWidth=618&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=74530&status=done&style=none&taskId=ub345ed43-b4c7-4e48-9d98-4841b0f3886&title=&width=494.4)
## 步骤 安装控制节点Neutron服务
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum list openstack-neutron*
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900134994-bbc5380e-95de-4c2c-95bd-ca6d46d18c29.png#averageHue=%23dadad6&clientId=ub4c2b334-9e42-4&from=paste&height=66&id=u5c80ecaf&originHeight=83&originWidth=762&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=61360&status=done&style=none&taskId=ub9af1dee-4b3d-44b2-8092-730944f5628&title=&width=609.6)
```java
yum install openstack-neutron openstack-neutron-ml2 openstack-neutron-linuxbridge -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900176576-a47d85b3-ae3f-43ea-b9b1-4d19af4b7e60.png#averageHue=%23e2e3e0&clientId=ub4c2b334-9e42-4&from=paste&height=37&id=ua0f32ef4&originHeight=46&originWidth=1397&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=65276&status=done&style=none&taskId=uf1c2af27-9e5a-461f-9720-daaf0ddb62a&title=&width=1117.6)
```java
cat /etc/passwd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900296122-0a196448-ddcb-4937-bd3e-3289fe58a94d.png#averageHue=%23f1f1f1&clientId=ub4c2b334-9e42-4&from=paste&height=34&id=ua7fa8831&originHeight=43&originWidth=538&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=20912&status=done&style=none&taskId=u2ba28df1-d9a4-4343-b4a2-bc1a2480da8&title=&width=430.4)
```java
cat /etc/grou
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900331016-4663eb67-b118-4229-814d-a65a53569f40.png#averageHue=%23c7c9c6&clientId=ub4c2b334-9e42-4&from=paste&height=48&id=u7d95a391&originHeight=60&originWidth=497&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=34123&status=done&style=none&taskId=uaf480b75-3660-4966-b7ea-ccd07a08c14&title=&width=397.6)
```java
mysql -uroot -p<密码>
create database neutron;
grant all privileges on neutron.* to 'neutron'@'localhost' identified by '密码'   #设置本地可以使用
grant all privileges on neutron.* to 'neutron'@'%' identified by '密码'   #设置外部可以使用
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900376380-1c8cfa4b-8904-4ed3-80c9-5f51ac9c82f1.png#averageHue=%23f6f6f6&clientId=ub4c2b334-9e42-4&from=paste&height=410&id=ua1f5f3ad&originHeight=513&originWidth=1363&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=401568&status=done&style=none&taskId=ue9459141-fa9a-4a46-9119-a2b3dfa5ed1&title=&width=1090.4)
```java
cp /etc/neutron/neutron.conf /etc/neutron/neutron.conf.bak 
grep -Ev '^$|#' /etc/neutron/neutron.conf.bak > /etc/neutron/neutron.conf
vi /etc/neutron/neutron.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900514871-f7f4d186-d49a-471b-b538-8e350af5d85e.png#averageHue=%23e5e5e1&clientId=ub4c2b334-9e42-4&from=paste&height=98&id=u97f773d5&originHeight=122&originWidth=1254&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=129680&status=done&style=none&taskId=u6e3f6095-25af-4e57-9cc2-6a290f1046d&title=&width=1003.2)
#请看图片
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900795245-3342b82e-169d-4528-884d-642619ab6b83.png#averageHue=%23375a7e&clientId=ub4c2b334-9e42-4&from=paste&height=736&id=ud4c11d76&originHeight=920&originWidth=1569&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=254839&status=done&style=none&taskId=u3897aa41-dd44-433f-9f80-0d46d59ff50&title=&width=1255.2)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711900825167-f13cac48-f614-471f-8a9a-e77a3e31c958.png#averageHue=%23375a7e&clientId=ub4c2b334-9e42-4&from=paste&height=710&id=uc13161d7&originHeight=887&originWidth=1569&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=200775&status=done&style=none&taskId=ua6c9e673-18a8-4629-966b-4d514ba85b6&title=&width=1255.2)
```java
cp /etc/neutron/plugins/ml2 /etc/neutron/plugins/ml2 
grep -Ev '^&|#' /etc/neutron/plugins/ml2/ml2_conf.ini > /etc/neutron/ml2/ml2_conf.ini.bak
vi /etc/neutron/plugins/ml2/ml2_conf.ini
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901110545-ff447af3-86ef-41ac-bbe7-2e45338c6da8.png#averageHue=%23dfe0dc&clientId=ub4c2b334-9e42-4&from=paste&height=145&id=u9606584d&originHeight=181&originWidth=1586&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=227594&status=done&style=none&taskId=u3115850a-1f42-47d2-a58e-bf8a83cd5f4&title=&width=1268.8)
#添加
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901262746-c4e47739-54bf-4cf2-98e4-f1281d447434.png#averageHue=%23fcfcfc&clientId=ub4c2b334-9e42-4&from=paste&height=317&id=ud983f2aa&originHeight=396&originWidth=887&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=142141&status=done&style=none&taskId=u9c26b6f7-46cf-4d6c-85e5-a840012c3c6&title=&width=709.6)
```java
ln -s /etc/neutron/plugins/ml2/ml2_conf.ini /etc/neutron/plugins.ini
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901302125-230ffbcb-8ced-47c9-9842-7220324d3092.png#averageHue=%23d6d8d4&clientId=ub4c2b334-9e42-4&from=paste&height=38&id=u2d33e1ed&originHeight=48&originWidth=1175&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=67516&status=done&style=none&taskId=u9646a46b-0661-46af-8547-d694746d63b&title=&width=940)
```java
cp /etc/neutron/plugins/ml2/linuxbridge_agent.ini /etc/neutron/plugins/ml2/linuxbridge_agent.ini.bak
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901400539-ff8f4d6d-0c6f-4120-9beb-7d417dc4dbb0.png#averageHue=%23e1e2df&clientId=ub4c2b334-9e42-4&from=paste&height=39&id=u252cf869&originHeight=49&originWidth=1598&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=90951&status=done&style=none&taskId=ueec5a5ab-1a24-4fa7-9174-7e286bfc48f&title=&width=1278.4)
```java
grep -Ev '^&|#' /etc/neutron/plugins/ml2/linuxbridge_agent.ini.bak > /etc/neutron/plugins/ml2/linuxbridge_agent
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901607917-ee84600d-4076-484d-bb46-bb279575e4d9.png#averageHue=%23dddfdc&clientId=ub4c2b334-9e42-4&from=paste&height=42&id=ud0298096&originHeight=52&originWidth=1720&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=92066&status=done&style=none&taskId=u85a4fdef-d896-44b1-85b1-b203c0b6f4f&title=&width=1376)
```java
vi /etc/neutron/plugins/ml2/linuxbridge_agent.ini
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901693384-5aa38866-b53c-4dc2-b5bd-c0ce1e771b5c.png#averageHue=%23f1f2ef&clientId=ub4c2b334-9e42-4&from=paste&height=53&id=ud6297fc0&originHeight=66&originWidth=977&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=43222&status=done&style=none&taskId=u88ffcc8c-8bb5-4b45-b432-c31b242aac2&title=&width=781.6)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901738650-b10ee351-b974-49af-81b3-c3a2833e83cd.png#averageHue=%23fbfbfb&clientId=ub4c2b334-9e42-4&from=paste&height=414&id=u3f621e47&originHeight=517&originWidth=1389&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=190997&status=done&style=none&taskId=udbd418f5-fb44-418e-a7dd-c1b184e193d&title=&width=1111.2)
```java
cp /etc/neutron/dhcp_agent.ini /etc/neutron/dhcp_agent.ini.bak
grep -Ev '^&|#' /etc/neutron/dhcp_agent.ini.bak > /etc/neutron/dhcp_agent.ini
vi /etc/neutron/dhcp_agent.ini
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901775369-a7b79ab2-705d-44b4-a203-656a89a8e631.png#averageHue=%23dadbd7&clientId=ub4c2b334-9e42-4&from=paste&height=89&id=u53f87455&originHeight=111&originWidth=1292&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=136336&status=done&style=none&taskId=u91dc2d62-d22b-41b8-97dc-cbe9d75ae34&title=&width=1033.6)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711901943607-426ad729-452a-4578-b8a0-5abe699dbc85.png#averageHue=%23fcfcfc&clientId=ub4c2b334-9e42-4&from=paste&height=283&id=uf2b2e1ad&originHeight=354&originWidth=860&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=109086&status=done&style=none&taskId=ub0e1c412-5fb8-4346-8ff9-2062ab4cd5f&title=&width=688)
```java
cp /etc/neutron/metadata_agent.ini /etc/neutron/metadata_agent.ini.bak
grep -Ev '^&|#' /etc/neutron/metadata_agent.ini.bak > /etc/neutron/metadata_agent.ini
vi /etc/neutron/metadata_agent.ini
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902222881-f5dc791f-4ab2-41bc-8fb9-bb5d5e635b52.png#averageHue=%23e3e4e1&clientId=ub4c2b334-9e42-4&from=paste&height=195&id=uc1989809&originHeight=244&originWidth=1409&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=281372&status=done&style=none&taskId=ucdfb0c6a-22d9-4669-987a-64b63b522d9&title=&width=1127.2)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902312680-199699e5-4b36-4f96-bb21-32a0848262f8.png#averageHue=%23fcfcfc&clientId=ub4c2b334-9e42-4&from=paste&height=278&id=uceb30c81&originHeight=347&originWidth=852&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=92992&status=done&style=none&taskId=u314db3f2-904f-41dc-bbd7-daad8d04abd&title=&width=681.6)
```java
vi /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902335168-704c6e3f-5d8b-4e5a-8745-6a93341653f2.png#averageHue=%23e9e9e4&clientId=ub4c2b334-9e42-4&from=paste&height=107&id=uc87a4586&originHeight=134&originWidth=656&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=55657&status=done&style=none&taskId=u95ce7251-3a7b-4361-9b06-90251d08517&title=&width=524.8)
#修改
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902422146-725a95c9-2a68-4444-9fda-5aa5dad1890d.png#averageHue=%23fafafa&clientId=ub4c2b334-9e42-4&from=paste&height=231&id=u97efdb64&originHeight=289&originWidth=747&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=144211&status=done&style=none&taskId=u35b47d6d-e1ad-4038-a32d-1ddfa882750&title=&width=597.6)
```java
su neutron -s /bin/sh -c "neutron-db-manage --confia.file /etc/neutron/neutron.cont --config-file/etc/neutron/pluains/ml2/ml2_conf.ini upgrade heads
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902487444-382bb9af-efd4-48fe-8bc1-586a81c4475d.png#averageHue=%23dcdedb&clientId=ub4c2b334-9e42-4&from=paste&height=49&id=u7e49100d&originHeight=61&originWidth=1733&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=108926&status=done&style=none&taskId=u157a42a8-d5e8-40e1-a63d-9b50d488d46&title=&width=1386.4)
```java
mysql -uneutorn -p<密码>
use neutron;
show tanles;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902663132-94302cc8-79d1-4a47-8fed-f7e9611d59d5.png#averageHue=%23f6f6f5&clientId=ub4c2b334-9e42-4&from=paste&height=369&id=ue4dad843&originHeight=461&originWidth=1106&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=297655&status=done&style=none&taskId=ue24fe49b-ea66-4088-ba9b-50ffb38dc06&title=&width=884.8)
```java
. admin-login
openstack user create --domain default --password <密码> neutron
openstack role add --project project --user neutron admin
openstack service create --name neutron network
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902740297-0f5496a9-3a4e-4dca-b299-b313a49ab664.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=448&id=u2cb34c52&originHeight=560&originWidth=1184&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=395752&status=done&style=none&taskId=ufdf7d6e1-2b1f-4b30-8bf1-1dcfeb06d38&title=&width=947.2)
```java
openstack endpoint create --region RegionOne neutron admin httpd://controller:9696
openstack endpoint create --region RegionOne neutron internal httpd://controller:9696
openstack endpoint create --region RegionOne neutron qublic httpd://controller:9696
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711902879737-7ca69f88-abcf-476f-b34d-0bf28198bbb4.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=564&id=u98f6bdff&originHeight=705&originWidth=1395&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=508058&status=done&style=none&taskId=u15e901f4-ccc6-4115-be34-f77b5e27b2c&title=&width=1116)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903017314-36b1d552-1c6d-4f5a-bc41-4f3e186f677c.png#averageHue=%23fafaf9&clientId=ub4c2b334-9e42-4&from=paste&height=287&id=ufa45a86c&originHeight=359&originWidth=1401&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=253628&status=done&style=none&taskId=u78ef3680-a5d2-46c7-affa-2db5a50a4d4&title=&width=1120.8)
```java
systemctl start neutron-server
systemctl start neutron-linuxbridge-agent
systemctl start neutron-dbcp-agent
systemctl start neutron-metadata-agent
systemctl enable neutron-server neutron-linuxbridge-agent neutron-dbcp-agent neutron-metadata-agent
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903063361-c7d63160-ee6e-4133-a029-748e91c20a26.png#averageHue=%23f5f5f4&clientId=ub4c2b334-9e42-4&from=paste&height=314&id=u3809b929&originHeight=392&originWidth=1724&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=492937&status=done&style=none&taskId=u82f5eefe-d726-402c-9067-a9d3e2c821b&title=&width=1379.2)
```java
netstat -nutpl
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903254805-8171e091-553e-4579-9908-ada059eaa98b.png#averageHue=%23dee0dd&clientId=ub4c2b334-9e42-4&from=paste&height=30&id=u0df49333&originHeight=38&originWidth=569&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=28004&status=done&style=none&taskId=u41f49f80-23a3-40bc-b6dd-65cb9da33ce&title=&width=455.2)
```java
curl http://controller:9696
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903272537-47ce7153-7dd7-4e73-94bc-b41f34c2c274.png#averageHue=%23f5f5f5&clientId=ub4c2b334-9e42-4&from=paste&height=60&id=u7b37dbaa&originHeight=75&originWidth=1710&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=95161&status=done&style=none&taskId=u0982c0ca-0a87-4294-9464-529dbf05b05&title=&width=1368)
## 步骤安装计算节点Neutron服务
#温馨提示，所有文字都在上面，下面是配图
#计算节点
```java
yum install openstack-neutron-linuxbridge -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904613979-8ea7de39-3510-4eba-a529-56cda77d6654.png#averageHue=%23e8e9e6&clientId=ub4c2b334-9e42-4&from=paste&height=46&id=u39a93de8&originHeight=57&originWidth=930&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41384&status=done&style=none&taskId=u04f59399-39f8-440a-b989-da80c234dae&title=&width=744)
```java
cat /etc/passwd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904678427-e4712643-f200-40ff-b11e-491c70b74ba9.png#averageHue=%23f6f6f6&clientId=ub4c2b334-9e42-4&from=paste&height=660&id=ubbf13d98&originHeight=825&originWidth=1302&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=746004&status=done&style=none&taskId=ud9c80af1-7e03-4a48-8a60-40379d947b1&title=&width=1041.6)
```java
cat /etc/group
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904702061-37869eb0-ec1c-4177-9a21-a220b406fd9c.png#averageHue=%23e0e1de&clientId=ub4c2b334-9e42-4&from=paste&height=40&id=u542296f2&originHeight=50&originWidth=499&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=24679&status=done&style=none&taskId=u299f2734-a4e4-42fa-b9ae-c75a32c904a&title=&width=399.2)
```java
cp /etc/neutron/neutron.conf /etc/neutron/neutron.conf.bak 
grep -Ev '^&|#' /etc/neutron/neutron.conf.bak > /etc/neutron/neutron.conf
vi /etc/neutron/neutron.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904752008-49079725-283f-4c9f-b0d6-9df341ed539a.png#averageHue=%23e0dfd9&clientId=ub4c2b334-9e42-4&from=paste&height=37&id=uc9760fe2&originHeight=46&originWidth=1027&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44136&status=done&style=none&taskId=u74951cbe-2148-4fa0-86c6-4adb805b644&title=&width=821.6)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904762726-18a58466-33bf-4dad-90bd-61c50d41af25.png#averageHue=%23f3f3f3&clientId=ub4c2b334-9e42-4&from=paste&height=59&id=u70892a16&originHeight=74&originWidth=1279&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=61110&status=done&style=none&taskId=u0de4d205-7fb5-405b-a5d4-62046952ddd&title=&width=1023.2)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904831271-692cadb7-1183-4bf8-afbe-34d61f15adbe.png#averageHue=%23fafafa&clientId=ub4c2b334-9e42-4&from=paste&height=573&id=ua76e46a9&originHeight=716&originWidth=798&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=277659&status=done&style=none&taskId=udbcabd61-70db-4e57-ae1c-756a1d584d5&title=&width=638.4)
```java
cp /etc/neutron/plugins/ml2/liuxbridge_agent.lin /etc/neutron/plugins/ml2/liuxbridge_agent.lin.bak 
grep -Ev '^&|#' /etc/neutron/plugins/ml2/liuxbridge_agent.lin.bak > /etc/neutron/ml2/liuxbridge_agent.lin
vi /etc/neutron/plugins/ml2/liuxbridge_agent.lin
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904880672-407c0838-7fb9-4301-b910-8151259754b4.png#averageHue=%23f8f8f7&clientId=ub4c2b334-9e42-4&from=paste&height=102&id=u9518cb05&originHeight=127&originWidth=1690&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=162179&status=done&style=none&taskId=u4509e223-a1c8-481d-91cc-01788cae601&title=&width=1352)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905090160-f0ee2367-5055-4b0d-9bc8-82076580c5d4.png#averageHue=%23fafaf9&clientId=ub4c2b334-9e42-4&from=paste&height=270&id=ued464f46&originHeight=338&originWidth=1138&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=147597&status=done&style=none&taskId=ud1cd1595-f904-4aec-bfeb-b1de8405327&title=&width=910.4)
```java
vi /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905108953-0409eb45-5202-4bad-b8a9-1a62541153bb.png#averageHue=%23f2f2f1&clientId=ub4c2b334-9e42-4&from=paste&height=61&id=u474d9d7c&originHeight=76&originWidth=622&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38539&status=done&style=none&taskId=uf0e2c3d3-47df-4aed-8545-42735be255e&title=&width=497.6)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905174068-ef4482f5-3a2f-4986-a053-ff2fe2c04665.png#averageHue=%23f8f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=143&id=ub7bdf242&originHeight=179&originWidth=902&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=108849&status=done&style=none&taskId=u9805a3cb-a8a3-477d-ac2e-74374a6bb51&title=&width=721.6)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905207360-9dbf3408-cd4f-4eac-932f-22ae8cd05ccf.png#averageHue=%23fbfbfb&clientId=ub4c2b334-9e42-4&from=paste&height=206&id=ubae450e4&originHeight=257&originWidth=952&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=111210&status=done&style=none&taskId=uf554eb7e-67ec-414d-ae20-0c3de14e0b8&title=&width=761.6)
```java
systemctl restart openstack-nova-conpute
systemctl rtart neutron-linuxbridge-agent
systemctl enable neutron-linuxbridge-agent
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905236456-08595db7-e478-4491-8aaa-35189d60e8f2.png#averageHue=%23d8d9d6&clientId=ub4c2b334-9e42-4&from=paste&height=116&id=u2e91922c&originHeight=145&originWidth=1713&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=183471&status=done&style=none&taskId=u777f9b0a-d724-4415-9a0d-18c1a4bf467&title=&width=1370.4)
#在控制节点
```java
. admin-login
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905355601-189e76a4-2610-46cf-a925-9e9e4e8d3653.png#averageHue=%23dbdbd9&clientId=ub4c2b334-9e42-4&from=paste&height=29&id=u433d1eb9&originHeight=36&originWidth=474&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=18802&status=done&style=none&taskId=u9983dc0d-57cb-442e-b308-48ceb31e9c4&title=&width=379.2)
```java
openstack agent list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905377472-3389c444-ab44-4b94-9a91-fc76ea32eb3e.png#averageHue=%23f6f6f6&clientId=ub4c2b334-9e42-4&from=paste&height=352&id=udff6ffc3&originHeight=440&originWidth=1700&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=328079&status=done&style=none&taskId=uc0670750-cf9d-4874-b5ed-bfc7e7c9209&title=&width=1360)
## 步骤安装Dashboord服务
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum install openstack-dashboard -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903638928-05cb1965-7252-471c-9643-ba88338eca9b.png#averageHue=%23f8f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=66&id=u6f5ea9be&originHeight=82&originWidth=843&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46715&status=done&style=none&taskId=u1e01f2bf-7e04-4ca8-8569-28ec16e91a9&title=&width=674.4)
```java
vi /etc/openstack-dashboard/local_settings
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903731243-00def620-0730-44aa-b8b4-4ba24534ff56.png#averageHue=%23f2f2ef&clientId=ub4c2b334-9e42-4&from=paste&height=50&id=ucbafc1cf&originHeight=63&originWidth=881&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41000&status=done&style=none&taskId=ue9d4e952-ba7a-4df3-bb2f-3a361994d21&title=&width=704.8)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903796096-9b6eb9f1-b081-464f-978e-8f7474a34d14.png#averageHue=%23f6f6f6&clientId=ub4c2b334-9e42-4&from=paste&height=74&id=u840f0835&originHeight=93&originWidth=574&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=42075&status=done&style=none&taskId=uc915fc26-050a-4569-ae86-7b7ce07e5df&title=&width=459.2)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903832329-ac7420ba-a7e0-4762-bf63-83e8e2e7ce95.png#averageHue=%23f7f7f7&clientId=ub4c2b334-9e42-4&from=paste&height=38&id=u82b1f7bd&originHeight=48&originWidth=659&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=17429&status=done&style=none&taskId=u3d6f3f39-c555-4332-98f3-f136f675f05&title=&width=527.2)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903869094-938d3895-1a02-4648-9cbf-a1771e09b05f.png#averageHue=%23d0d1ce&clientId=ub4c2b334-9e42-4&from=paste&height=46&id=u15dafdc5&originHeight=57&originWidth=499&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26654&status=done&style=none&taskId=ue74fcf41-bff0-475a-8399-9681baa8211&title=&width=399.2)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903949403-1a63c8de-6c54-4c64-b652-eea318f497d5.png#averageHue=%23fafafa&clientId=ub4c2b334-9e42-4&from=paste&height=367&id=ue1bd16b9&originHeight=459&originWidth=1125&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=257545&status=done&style=none&taskId=u41b0643e-4a21-43fd-a488-5fea557b805&title=&width=900)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904004768-9904c8be-f1a7-46b2-95c9-4c19c405007c.png#averageHue=%23f9f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=274&id=u81824cc6&originHeight=343&originWidth=1042&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=250790&status=done&style=none&taskId=udedd5c74-1b9f-49a4-a029-2c3e55dbcc5&title=&width=833.6)
```java
cd /usr/share/openstack-dashboard/
ls
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904063542-8b64ad0f-080a-480f-8265-e4bf23a760b0.png#averageHue=%23e6e7e3&clientId=ub4c2b334-9e42-4&from=paste&height=62&id=ucc95c708&originHeight=78&originWidth=876&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=81840&status=done&style=none&taskId=u4e006530-086e-4d7f-a164-189210f57ce&title=&width=700.8)
```java
pythont manage.py make_web_conf --apache > /etc/httpd/conf.d/openstack-dashboard.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904116920-8b938ca1-2ecb-446b-a88c-b93f4ec08f95.png#averageHue=%23e3e4e1&clientId=ub4c2b334-9e42-4&from=paste&height=38&id=uc9d4b51d&originHeight=47&originWidth=1591&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=66720&status=done&style=none&taskId=uc60de2bd-7a75-4d16-b971-d0adaec0d9f&title=&width=1272.8)
```java
cat /etc/httpd/conf.d/openstack-dashboard.conf
cd /root
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904259183-57234ad1-979c-4ca7-9869-bebfaa355de6.png#averageHue=%23fbfbfb&clientId=ub4c2b334-9e42-4&from=paste&height=651&id=ue210c9ef&originHeight=814&originWidth=1331&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=465028&status=done&style=none&taskId=u6e4899ac-19d6-4812-a8ed-b41d1971cda&title=&width=1064.8)
```java
ls /etc/openstack-dashboard/
ln -s /etc/openstack-dashboard /usr/sjare/openstack-dashboard/openstacl_dashboard/conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904344654-a9c5440e-7fc5-46f3-8ea1-d3d5e17be4e2.png#averageHue=%23e6e7e3&clientId=ub4c2b334-9e42-4&from=paste&height=91&id=uf3735819&originHeight=114&originWidth=1407&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=149371&status=done&style=none&taskId=u6c0aa057-b012-49c6-9fe1-813e0b2b87a&title=&width=1125.6)
```java
ll /usr/sjare/openstack-dashboard/openstacl_dashboard/
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904446220-ea049375-ce8d-42fa-8c77-f1d5158716a0.png#averageHue=%23cdcfcb&clientId=ub4c2b334-9e42-4&from=paste&height=30&id=u96aa32fb&originHeight=38&originWidth=976&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44168&status=done&style=none&taskId=u3519b085-c28a-496a-bb4a-4b22ea7aef6&title=&width=780.8)
```java
systemctl restart httpd
systemctl status httpd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904488104-30f4e8e7-d46e-44cd-8cd0-d08a07318ed5.png#averageHue=%23fafaf9&clientId=ub4c2b334-9e42-4&from=paste&height=662&id=uc18daa40&originHeight=827&originWidth=1689&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=847274&status=done&style=none&taskId=u9502dbcd-1ac1-4a8a-b401-719b315bd8a&title=&width=1351.2)
```java
systemctl enable httpd
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904541244-a63567b6-a992-4052-a2c9-09e7d257d0ed.png#averageHue=%23e3e3e0&clientId=ub4c2b334-9e42-4&from=paste&height=61&id=u704b9d23&originHeight=76&originWidth=1591&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=98734&status=done&style=none&taskId=u906d1b12-b178-4141-b578-4532439551b&title=&width=1272.8)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711904571915-e3fa56ad-5be1-4e80-b27a-b1b772f78887.png#averageHue=%23fdfcfc&clientId=ub4c2b334-9e42-4&from=paste&height=784&id=ued852574&originHeight=980&originWidth=1899&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=175397&status=done&style=none&taskId=u85cb2759-2c07-489b-ab49-7a9d00c20da&title=&width=1519.2)
## 步骤在控制节点安装Cinder组件
#温馨提示，所有文字都在上面，下面是配图
#控制节点
```java
yum install openstack-cinder -y
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905468803-deb3cdea-e232-4383-aed3-30cc1182c720.png#averageHue=%23e6e7e4&clientId=ub4c2b334-9e42-4&from=paste&height=51&id=u68a322a5&originHeight=64&originWidth=831&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45755&status=done&style=none&taskId=u6e220bf6-864a-422d-b601-9c9c51c1b42&title=&width=664.8)
```java
cat /etc/passwd|grep cinder
cat /etc/group|grep cinder
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905510059-296d2f62-a61f-488d-a5eb-78205a2ba04a.png#averageHue=%23e3e0dc&clientId=ub4c2b334-9e42-4&from=paste&height=122&id=u8f2a8630&originHeight=152&originWidth=1028&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=135083&status=done&style=none&taskId=ufc58a014-5eb2-4d87-b9e3-7fed5f4b2f8&title=&width=822.4)
```java
mysql -uroot -p<密码>
create database cinder;
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905570528-92b7544a-d5de-411a-9ab6-26ac85f71063.png#averageHue=%23f4f4f4&clientId=ub4c2b334-9e42-4&from=paste&height=244&id=uddbae843&originHeight=305&originWidth=1187&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=199549&status=done&style=none&taskId=u74dc067d-dcc0-4c4a-8ecf-5bfd878d8a2&title=&width=949.6)
```java
grant all privileges on cinder.* to 'cinder'@'localhost' identified by '密码'   #设置本地可以使用
grant all privileges on cinder.* to 'cinder'@'%' identified by '密码'   #设置外部可以使用
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905621254-d4707f84-d87d-4e05-8dca-2ed65c7a7618.png#averageHue=%23f2f2ef&clientId=ub4c2b334-9e42-4&from=paste&height=171&id=u8adc1282&originHeight=214&originWidth=1483&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=161537&status=done&style=none&taskId=u189a4459-5509-468a-b8f2-361def5874b&title=&width=1186.4)
```java
mysql -ucinder -p<密码>
show databases;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905713724-87b1892b-ce25-4e94-baa2-33ae8c02240a.png#averageHue=%23f7f7f7&clientId=ub4c2b334-9e42-4&from=paste&height=401&id=uc37fb2b7&originHeight=501&originWidth=1172&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=247055&status=done&style=none&taskId=u608d5bc5-db3c-4d1b-a605-3f163aba8aa&title=&width=937.6)
```java
mysql -ucinder -p<密码> -h192.168.10.10
show databases;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905727220-b875631d-1fd7-479b-b512-ca28f32e9804.png#averageHue=%23f8f8f8&clientId=ub4c2b334-9e42-4&from=paste&height=398&id=uc0efec64&originHeight=498&originWidth=1530&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=246503&status=done&style=none&taskId=uea67bcc3-4996-4b7a-8939-893f0778b6b&title=&width=1224)
```java
cp /etc/cinder/cinder.conf /etc/cinder/cinder.conf.bak 
grep -Ev '^&|#' /etc/cinder/cinder.conf.bak > /etc/cinder/cinder.conf
vi /etc/cinder/cinder.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905800248-7b154519-154c-41bb-b35d-e494ce96d773.png#averageHue=%23dddedb&clientId=ub4c2b334-9e42-4&from=paste&height=72&id=u5a279b8f&originHeight=90&originWidth=1249&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=100038&status=done&style=none&taskId=u1057063d-de8f-47bc-a618-49abe4480d8&title=&width=999.2)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905970347-ad651d9e-55c7-45b8-bacf-08c35bcec397.png#averageHue=%23fbfbfb&clientId=ub4c2b334-9e42-4&from=paste&height=697&id=u5c5f9110&originHeight=871&originWidth=962&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=374437&status=done&style=none&taskId=ubb955f4c-178e-4ea4-b159-b8120db5180&title=&width=769.6)
```java
vi /etc/nova/nova.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711905988902-94de416e-4b4d-4356-b6b4-10d790ce6cb3.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=53&id=u5b71cfc5&originHeight=66&originWidth=623&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=34558&status=done&style=none&taskId=u99f1d6e6-8a8f-4f0a-8d41-a693320af8d&title=&width=498.4)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906027358-f6db654c-9eaf-4502-97ef-b69249cefb3a.png#averageHue=%23fafafa&clientId=ub4c2b334-9e42-4&from=paste&height=73&id=u3341cebd&originHeight=91&originWidth=526&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=29345&status=done&style=none&taskId=u65de564f-81b8-4134-b130-4536fc7647a&title=&width=420.8)
```java
su cinder -s /bin/sh -c "cinder-manage db sync"
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906081082-860be29c-6945-40a5-a172-6c9ca77f71d4.png#averageHue=%23e3e3df&clientId=ub4c2b334-9e42-4&from=paste&height=32&id=ud0df10fc&originHeight=40&originWidth=1073&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=43524&status=done&style=none&taskId=u6403dddc-8c1a-401e-8ede-b8876d039ed&title=&width=858.4)
```java
mysql -ucinder -p<密码>
use cinder;
show tables;
quit
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906127353-2e6bd42f-8811-4d00-ba38-5f1481e5e2b7.png#averageHue=%23f3f3f3&clientId=ub4c2b334-9e42-4&from=paste&height=317&id=u0b551970&originHeight=396&originWidth=1165&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=267721&status=done&style=none&taskId=ue80550f6-0d12-4b1e-b797-a71ae068696&title=&width=932)
```java
. admin-login
openstack user create --domain default --password <密码> cinder
openstack role add --project project --user cinder admin
openstack service create --name cinderv3 volumev3
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906216208-fa875944-033a-41be-b24b-70db9ffae03c.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=444&id=u14bc401a&originHeight=555&originWidth=1159&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=350848&status=done&style=none&taskId=u6ab7d0ea-38fc-47c6-bb69-dc1b169df16&title=&width=927.2)
```java
openstack endpoint create --region RegionOne cinderv3 admin httpd://controller:8776/v3/%\(project_id\)s
openstack endpoint create --region RegionOne cinderv3 internal httpd://controller:8776/v3/%\(project_id\)s
openstack endpoint create --region RegionOne cinderv3 qublic httpd://controller:8776/v3/%\(project_id\)s
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906362426-3754c8af-9595-4976-a208-eebe8983bc03.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=564&id=uddf7a690&originHeight=705&originWidth=1678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=474500&status=done&style=none&taskId=u1acf45a8-5006-402c-b3fe-24f4e3ee0c3&title=&width=1342.4)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906527457-245abd18-b43a-490f-beec-f26bd1f1b212.png#averageHue=%23f9f9f9&clientId=ub4c2b334-9e42-4&from=paste&height=282&id=u9e72dd11&originHeight=353&originWidth=1665&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=244086&status=done&style=none&taskId=ue257cc08-6203-44a1-8f5d-402bd3804cc&title=&width=1332)
```java
systemctl restart openstack-nova-aqi
systemctl start openstack-cinder-aqi openstack-cinder-scheduler
systemctl enable openstack-cinder-aqi openstack-cinder-scheduler
netstat --nutp|grep 8776
openstack volume service list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906560045-761f2b40-12d9-4097-8da8-c832bc51db6d.png#averageHue=%23f7f7f7&clientId=ub4c2b334-9e42-4&from=paste&height=348&id=u01892957&originHeight=435&originWidth=1696&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=466823&status=done&style=none&taskId=u4bd5b55f-1fee-4397-9bea-ef1e9b0fd65&title=&width=1356.8)
## 步骤在计算节点搭建存储节点
#温馨提示，所有文字都在上面，下面是配图
#计算节点
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906783885-6ffa8aae-fa69-44e2-931e-5cdd6de4cfc5.png#averageHue=%23e7ebe9&clientId=ub4c2b334-9e42-4&from=paste&height=766&id=u259270c9&originHeight=958&originWidth=1107&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=266377&status=done&style=none&taskId=u6c7a17af-9608-4e92-ac58-d98312caafa&title=&width=885.6)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906799795-fd77910e-fc29-4357-a6c8-d09407ba75d5.png#averageHue=%23e9ecea&clientId=ub4c2b334-9e42-4&from=paste&height=473&id=u815edd8b&originHeight=591&originWidth=696&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=107582&status=done&style=none&taskId=u975fe1ec-1791-42ff-9676-d18cf36388f&title=&width=556.8)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906815810-7950259b-4664-4828-8239-eccab32334e0.png#averageHue=%23e6e9e7&clientId=ub4c2b334-9e42-4&from=paste&height=416&id=u86c769c1&originHeight=520&originWidth=652&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=130730&status=done&style=none&taskId=uba2f91a4-8133-48e1-a48a-42c98d02de5&title=&width=521.6)
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906827724-db841be7-c60b-406e-b760-eb747dd8fa81.png#averageHue=%23eeeeed&clientId=ub4c2b334-9e42-4&from=paste&height=497&id=ucc847fa1&originHeight=621&originWidth=689&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=155967&status=done&style=none&taskId=u94a9d139-be08-4fdf-b4a5-7e4e1d1a65a&title=&width=551.2)

![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906843144-5bdc18d2-9203-4bd8-9707-f49cc57dc40e.png#averageHue=%23f2f2f2&clientId=ub4c2b334-9e42-4&from=paste&height=496&id=u5a56aad7&originHeight=620&originWidth=715&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=67731&status=done&style=none&taskId=uf5f9accf-1730-4c9d-8d62-d3434504bd6&title=&width=572)

#完成后重启计算节点
```java
lsblk
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906889165-f3e1728c-dc6d-416d-82de-e67d97e28486.png#averageHue=%23ecece9&clientId=ub4c2b334-9e42-4&from=paste&height=186&id=u3cc61d5f&originHeight=233&originWidth=766&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=130987&status=done&style=none&taskId=ua6764dee-3bf7-4084-ba84-39373765e23&title=&width=612.8)
```java
pvcreate /dev/sdb
vgcreate cinder-volumes /dev/sdb
vi /etc/lvm/lvm.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711906934016-7d634e68-17c4-4304-a966-c940319ad708.png#averageHue=%23ebede7&clientId=ub4c2b334-9e42-4&from=paste&height=141&id=u5c7f0d87&originHeight=176&originWidth=767&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=130823&status=done&style=none&taskId=uc244f86d-697d-46f6-acde-9275b6bb39b&title=&width=613.6)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711907028649-80946099-f97f-49ee-80b0-589940fe739c.png#averageHue=%23f0f1ed&clientId=ub4c2b334-9e42-4&from=paste&height=114&id=u68cfa21a&originHeight=142&originWidth=924&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=80588&status=done&style=none&taskId=u7cf1e5b1-3b9c-460b-85f3-2a2ee49f3d2&title=&width=739.2)
```java
systemctl start lvm2-lvmetad
systemctl enable lvm2-lvmetad
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711907044528-618943b6-a4de-4bab-846f-7bd3abe0c408.png#averageHue=%23eaebe8&clientId=ub4c2b334-9e42-4&from=paste&height=93&id=ue89006d0&originHeight=116&originWidth=682&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=66474&status=done&style=none&taskId=ub39a42da-1079-4b16-b17a-a651c727dd9&title=&width=545.6)
```java
yum -y install openstack-cinder targetcli python-keystone
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711907101223-e511bc64-e7d6-493c-b302-13daea3a6c13.png#averageHue=%23ebece9&clientId=ub4c2b334-9e42-4&from=paste&height=39&id=u6814125f&originHeight=49&originWidth=1077&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52358&status=done&style=none&taskId=u721b2a92-83cf-497a-9f99-acb41ec0471&title=&width=861.6)
```java
cp /etc/cinder/conder.conf /etc/cinder/conder.conf.bak
grep -Ev '^$|#' /etc/cinder/conder.conf.bak > /etc/cinder/conder.conf
vi /etc/cinder/conder.conf
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711907177779-52bd281a-8a7a-4372-b0b3-7d837bfd4384.png#averageHue=%23ebece8&clientId=ub4c2b334-9e42-4&from=paste&height=90&id=u5390e4b6&originHeight=113&originWidth=1185&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=110777&status=done&style=none&taskId=u697550cb-6a41-4de6-9f17-a6f13a32629&title=&width=948)
#输入
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711907357265-c3325a31-3c21-4176-846c-2ebbbdce3107.png#averageHue=%23fcfcfc&clientId=ub4c2b334-9e42-4&from=paste&height=698&id=u5e4a1131&originHeight=873&originWidth=1070&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=430666&status=done&style=none&taskId=ud8839221-c982-4af2-a61d-383295a185b&title=&width=856)
![image.png](http://img.mingfancloud.cn/temp/202404061628565.png)
```java
systemctl start openstack-cinder-volume target
systemctl enable openstack-cinder-volume target
```
![image.png](http://img.mingfancloud.cn/temp/202404061628306.png)
#控制节点
```java
. admin-login
openstack volume service list
```
![image.png](http://img.mingfancloud.cn/temp/202404061628794.png)
![image.png](http://img.mingfancloud.cn/temp/202404061628963.png)
## 步骤用Cinder来创建存储卷
#温馨提示，所有文字都在上面，下面是配图
#控制节点

```java
. admin-login
openstack volume list
```
![image.png](https://cdn.nlark.com/yuque/0/2024/png/42500682/1711903335507-9e5c9b71-58bb-4f0c-bad3-032284e9bcb7.png#averageHue=%23f7f7f7&clientId=ub4c2b334-9e42-4&from=paste&height=70&id=ua71bb553&originHeight=87&originWidth=822&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49023&status=done&style=none&taskId=u88337cd6-fe38-4621-a000-cc154009962&title=&width=657.6)
```java
openstack volume create --size 8 volume1
```
![image.png](http://img.mingfancloud.cn/temp/202404061628739.png)
```java
openstack volume list
```
![image.png](http://img.mingfancloud.cn/temp/202404061628966.png)
#也可也用
![image.png](http://img.mingfancloud.cn/temp/202404061628198.png)
![image.png](http://img.mingfancloud.cn/temp/202404061628738.png)
```java
openstack volume list
```
![image.png](http://img.mingfancloud.cn/temp/202404061628979.png)
[项目13 虚拟网络管理.pptx](https://www.yuque.com/attachments/yuque/0/2024/pptx/42500682/1711929590967-3f595c5d-08fa-4945-8da0-7bf8db5c07c7.pptx)
[项目14 实例类型管理.pptx](https://www.yuque.com/attachments/yuque/0/2024/pptx/42500682/1711929591194-ac5d2ddb-af1c-4fee-b1a6-7fc036bfa488.pptx)
[项目15 云主机管理.pptx](https://www.yuque.com/attachments/yuque/0/2024/pptx/42500682/1711929591734-b37007a4-8553-490d-a9cb-323e56709aa3.pptx)
[项目16 用云镜像部署云主机.pptx](https://www.yuque.com/attachments/yuque/0/2024/pptx/42500682/1711929591549-67b76403-75bc-482d-8300-e2a81857c846.pptx)

